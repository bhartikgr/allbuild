{"version":3,"file":"static/js/9556.1d9a51e5.chunk.js","mappings":"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","sources":["components/ChatBox.jsx","components/Footer.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\nimport { Link } from \"react-router-dom\";\nimport { HiDotsVertical } from \"react-icons/hi\";\nimport { IoMdCloseCircle } from \"react-icons/io\";\nimport EmojiPicker from \"emoji-picker-react\";\nimport ErrorPop from \"../components/ErrorPop\";\nimport SuccessPop from \"../components/SuccessPop\";\nimport { FaAngleDown } from \"react-icons/fa6\";\nexport const ChatBox = ({\n  isOpen,\n  onClose,\n  children,\n  userdetail,\n  userChatDetail,\n  LoginData,\n  to_id,\n  getChatAfterSave,\n  refreshchat,\n}) => {\n  const chatEndRef = useRef(null); // Ref to the chat container\n  const [Totalcountmessage, setTotalcountmessage] = useState(\"\");\n  const [userblock, setuserblock] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [errormessage, seterrormessage] = useState(\"\");\n  const [chooseallId_left, setchooseallId_left] = useState([]);\n  const [showPopError, setShowPopError] = useState(false);\n  const [errorPopMessage, setPoperrorMessage] = useState(\"\");\n  const [Isfile, setFiles] = useState([]);\n  const [IdArray, setIdArray] = useState([]);\n  const [istoid, settoid] = useState(\"\");\n  const [forenter, setforenter] = useState(false);\n  const [LoginDataUser, setLoginData] = useState(LoginData);\n  const [showPopSuccess, setShowPopSuccess] = useState(false);\n  const [successPopMessage, setPopsuccessMessage] = useState(\"\");\n  const apiUrl = \"https://backend.amourette.no/api/members/\";\n  //const [files, setFiles] = useState([]);\n  const [seenn, setSeen] = useState(false); // Track if the function has been called\n  const [arrow, setarrow] = useState(false); // Track if the function has been called\n  const [error, seterror] = useState(\"\");\n  const [spinner, setspinner] = useState(false);\n  const [restr_message, setrestr_message] = useState(false);\n  const { t } = useTranslation();\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [searchText, setSearchText] = useState(\"\"); // Search query\n  const [filteredMessages, setFilteredMessages] = useState([]);\n  const [messages, setMessages] = useState(userChatDetail);\n  const inputRef = useRef(null);\n  const chatBoxRef = useRef(null);\n  const storedUsername = localStorage.getItem(\"userLogin\");\n  const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n  const [isManualEnter, setIsManualEnter] = useState(false); // Track Enter press\n  const [offset, setOffset] = useState(0);\n  const [hasMore, setHasMore] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  useEffect(() => {\n    setFilteredMessages(userChatDetail);\n  }, [userChatDetail]);\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem(\"language\") || \"en\"; // Default to 'en' if no language is saved\n\n    // Change the language if it's not already the current language\n    if (i18n.language !== savedLanguage) {\n      i18n.changeLanguage(savedLanguage);\n    }\n  }, [i18n, t]);\n  const handleOverlayClick = (e) => {\n    // Check if the clicked element is the overlay\n    if (e.target.classList.contains(\"popup-overlay\")) {\n      onClose(); // Close the popup if the overlay is clicked\n    }\n  };\n  const handleKeyDownn = (e) => {\n    if (e.key === \"Escape\" && selectedImage === null) {\n      onClose(); // Close the popup only if no image is selected\n    }\n  };\n\n  // Add event listener when the component mounts\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDownn);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDownn);\n    };\n  }, [selectedImage]);\n\n  useEffect(() => {\n    const handleKeyDownr = (event) => {\n      if (event.key === \"Escape\") {\n        setSelectedImage(null);\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDownr);\n\n    // Cleanup the event listener on component unmount\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDownr);\n    };\n  }, [setSelectedImage]);\n\n  const [showMenu, setShowMenu] = useState(false);\n  const handleCloseDeletePopup = () => {\n    setShowMenu(false);\n    setShowMenu_Left(false);\n  };\n  const toggleMenu = (index) => {\n    setShowMenu(showMenu === index ? null : index);\n  };\n  const [showPicker, setShowPicker] = useState(false);\n\n  const handleEmojiClick = (emojiObject) => {\n    setMessage((prevMessage) => prevMessage + emojiObject.emoji);\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n    setIsManualEnter(true);\n    setShowPicker(false); // Hide picker after selecting an emoji\n  };\n  // Runs when Isfile updates\n\n  useEffect(() => {\n    setLoginData(LoginData);\n    settoid(to_id);\n\n    if (isOpen) {\n      // When the chat box opens, initialize messages with userChatDetail\n      setMessages(userChatDetail);\n      setTimeout(() => {\n        if (chatEndRef.current) {\n          chatEndRef.current.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"nearest\",\n          });\n        }\n        hanldeseenmessage();\n      }, 100);\n    }\n  }, [isOpen, userChatDetail, LoginData]);\n  // const handleKeyDown = useCallback(\n  //   (e) => {\n  //     if (e.key === \"Enter\" && !e.shiftKey) {\n  //       e.preventDefault();\n\n  //       const isMessageNotEmpty = message.trim() !== \"\";\n  //       const isFileNotEmpty = Isfile.length > 0;\n\n  //       if (isMessageNotEmpty || isFileNotEmpty) {\n  //         handleSend();\n  //         setforenter(false); // Reset file trigger\n  //       }\n  //     }\n  //   },\n  //   [message, Isfile] // Dependencies to get the latest values\n  // );\n\n  // useEffect(() => {\n  //   window.addEventListener(\"keydown\", handleKeyDown);\n  //   return () => {\n  //     window.removeEventListener(\"keydown\", handleKeyDown);\n  //   };\n  // }, [handleKeyDown]);\n  useEffect(() => {\n    const handleKeyDownnn = (event) => {\n      if (event.key === \"Escape\") {\n        setSelectedImage(null);\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDownnn);\n\n    // Cleanup the event listener on component unmount\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDownnn);\n    };\n  }, [setSelectedImage]);\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n    var st = userLogin.id;\n    if (userLogin && to_id) {\n      var t = Number(to_id);\n      // Ensure `to_id` is not empty before updating\n      setIdArray([userLogin.id, t]);\n    }\n  }, [to_id]);\n  useEffect(() => {\n    if (to_id !== \"\") {\n      getmessageCount();\n    }\n    console.log(to_id);\n  }, [to_id]);\n  const getmessageCount = async () => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n    let formData = {\n      to_id: to_id,\n      user_id: userLogin.id,\n    };\n\n    try {\n      const res = await axios.post(apiUrl + \"getmessageCount\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Correct content type for file uploads\n        },\n      });\n      console.log(\"dd\", res.data);\n      var alldata = res.data.results;\n      const storedUsername = localStorage.getItem(\"userLogin\");\n      const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n\n      const unreadCount = alldata.filter((item) => item.read === \"No\").length;\n      console.log(unreadCount);\n      setTotalcountmessage(unreadCount);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n        console.error(\"Response error:\", err.response);\n      } else if (err.request) {\n        console.error(\"Request error:\", err.request);\n      } else {\n        console.error(\"General error:\", err.message);\n      }\n    }\n  };\n  useEffect(() => {\n    const ws = new WebSocket(\"wss://backend.amourette.no\"); // Adjust port if needed\n\n    ws.onmessage = (event) => {\n      try {\n        const receivedMessage = JSON.parse(event.data);\n        if (!receivedMessage) {\n          console.error(\"Received invalid JSON:\", event.data);\n          return;\n        }\n        console.log(receivedMessage);\n        const senderId = Number(receivedMessage.user_id); // Sender's ID (e.g. 5)\n        const receiverId = Number(receivedMessage.to_id); // Receiver's ID (e.g. 1)\n        const loggedInUserId = Number(LoginData.id); // Currently logged-in user's ID (e.g. 1 or 5)\n\n        var ttt = Number(to_id);\n        if (receivedMessage.event === \"DeleteChatMessage\") {\n          if (IdArray.includes(senderId) && IdArray.includes(receiverId)) {\n            setMessageFormessage(receivedMessage.id);\n            refreshchat();\n          }\n        }\n        if (receivedMessage.event === \"DeleteChatMessage_other\") {\n          if (loggedInUserId === senderId) {\n            setMessageFormessage(receivedMessage.id);\n            refreshchat();\n          }\n        }\n        if (receivedMessage.event === \"DeleteChatMessage_other_Left\") {\n          if (loggedInUserId === senderId) {\n            //setMessageForultiple_left(receivedMessage.id);\n          }\n        }\n        if (receivedMessage.event === \"DeleteChatMessageMultiple\") {\n          if (IdArray.includes(senderId) && IdArray.includes(receiverId)) {\n            setMessageForultiple(receivedMessage.id);\n            refreshchat();\n          }\n        }\n        if (receivedMessage.event === \"ChatMessage\") {\n          if (IdArray.includes(senderId) && IdArray.includes(receiverId)) {\n            getSEndMessagequick(receivedMessage, senderId, receiverId);\n            //  / hanldeseenmessagenotscroll();\n            // If the logged-in user is the sender, auto-scroll\n\n            if (loggedInUserId === senderId) {\n              setTimeout(() => {\n                chatEndRef.current.scrollIntoView({\n                  behavior: \"smooth\",\n                  block: \"nearest\",\n                });\n              }, 350);\n            } else {\n              console.log(\"This is a receiver's message:\", receivedMessage);\n            }\n          }\n        }\n        // Ensure message is only seen by the sender or receiver\n        if (IdArray.includes(senderId) && IdArray.includes(receiverId)) {\n          if (\n            receivedMessage.event !== \"DeleteChatMessageMultiple\" &&\n            receivedMessage.event !== \"DeleteChatMessage\" &&\n            receivedMessage.event !== \"DeleteChatMessage_other\"\n          ) {\n            //(receivedMessage, senderId, receiverId);\n\n            // If the logged-in user is the sender, auto-scroll\n            if (loggedInUserId === senderId) {\n              chatEndRef.current.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"nearest\",\n              });\n            } else {\n              console.log(\"This is a receiver's message:\", receivedMessage);\n            }\n          }\n        } else {\n          // Ignore the message for any other users\n          console.log(\"Message ignored for this user:\", loggedInUserId);\n        }\n      } catch (error) {\n        console.error(\"Failed to parse WebSocket message:\", error);\n        console.error(\"Raw message:\", event.data);\n      }\n    };\n\n    return () => {\n      ws.close();\n    };\n  }, [LoginData, to_id, IdArray]);\n  const isScrolledToBottom = (element) => {\n    return element.scrollHeight - element.scrollTop === element.clientHeight;\n  };\n  const fetchMessages = async (newOffset) => {\n    setLoadingMore(true);\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n    let formdata = {\n      user_id: userLogin.id,\n      to_id: to_id,\n      offset: newOffset,\n    };\n    console.log(formdata);\n    try {\n      const res = await axios.post(apiUrl + \"getuserChatmessage\", formdata, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n\n      const newMessages = res.data.results;\n      console.log(newMessages.length > 0);\n      if (newMessages.length === 0) {\n        setHasMore(false);\n      } else {\n        setFilteredMessages((prevMessages) => {\n          const existingIds = new Set(prevMessages.map((msg) => msg.id)); // or msg.message_id\n          const filteredNewMessages = newMessages.filter(\n            (msg) => !existingIds.has(msg.id) // or msg.message_id\n          );\n          return [...prevMessages, ...filteredNewMessages];\n        });\n\n        setMessages(newMessages);\n        setOffset((prev) => prev + newMessages.length);\n      }\n    } catch (error) {\n      console.error(\"Error fetching messages\", error);\n    }\n    setLoadingMore(false);\n  };\n  const handleScroll = async () => {\n    const chatBox = chatBoxRef.current;\n    const isAtTop = chatBox.scrollTop <= 7;\n    console.log(isAtTop);\n    const isAtBottom =\n      chatBox.scrollHeight - chatBox.scrollTop <= chatBox.clientHeight + 10;\n    if (isAtTop && hasMore && !loadingMore) {\n      const oldScrollHeight = chatBox.scrollHeight; // ✅ here\n\n      await fetchMessages(offset); // fetch next 10 (older) messages\n\n      // Maintain scroll position after loading more messages\n      setTimeout(() => {\n        //const newScrollHeight = chatBox.scrollHeight;\n        //  chatBox.scrollTop = newScrollHeight - oldScrollHeight; // ✅ now it's in scope\n      }, 100);\n    }\n    console.log(isAtBottom);\n    setarrow(isAtBottom);\n    if (isAtBottom) {\n      setarrow(true);\n      hanldeseenmessage();\n      const storedUsername = localStorage.getItem(\"userLogin\");\n      const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n\n      if (to_id !== \"\") {\n        let formData = {\n          user_id: userLogin.id,\n          to_id: to_id,\n        };\n\n        try {\n          const res = await axios.post(apiUrl + \"messageseen\", formData, {\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n          });\n\n          if (res.data.status === \"1\") {\n            chatsectionUser(to_id);\n          }\n          getmessageCount();\n        } catch (err) {\n          // Enhanced error handling\n          if (err.response) {\n            console.error(\"Error response:\", err.response);\n          } else if (err.request) {\n            console.error(\"Request data:\", err.request);\n          } else {\n            console.error(\"Error message:\", err.message);\n          }\n        }\n      }\n    } else {\n    }\n  };\n  const chatsectionUser = async (idd) => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null; // Safely parse login data\n    // Ensure LoginData is not null\n    if (!userLogin || !userLogin.id) {\n      console.error(\"Login data is not available\");\n      return; // Exit the function if LoginData is null\n    }\n\n    let formData = {\n      user_id: userLogin.id,\n      to_id: idd,\n    };\n\n    try {\n      const res = await axios.post(apiUrl + \"getuserChatmessage\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      var respo = res.data.results;\n\n      //  setmessages(respo);\n      //  setmessagesall(respo);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n        console.error(\"Error response:\", err.response);\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  useEffect(() => {\n    const checkuserblock = async () => {\n      const storedUsername = localStorage.getItem(\"userLogin\");\n      const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n      let formData = {\n        user_id: userLogin.id,\n        to_id: to_id,\n      };\n\n      try {\n        const res = await axios.post(apiUrl + \"checkuserblock\", formData, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\", // Correct content type for file uploads\n          },\n        });\n        console.log(\"checkblock\");\n        console.log(res.data);\n        if (res.data.result.length > 0) {\n          setuserblock(true);\n        } else {\n          setuserblock(false);\n        }\n      } catch (err) {\n        // Enhanced error handling\n        if (err.response) {\n          console.error(\"Response error:\", err.response);\n        } else if (err.request) {\n          console.error(\"Request error:\", err.request);\n        } else {\n          console.error(\"General error:\", err.message);\n        }\n      }\n    };\n    checkuserblock();\n  }, []);\n  const calculateAge = (birthday) => {\n    const birthDate = new Date(birthday);\n    const today = new Date();\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDifference = today.getMonth() - birthDate.getMonth();\n\n    // Adjust age if the birthday hasn't occurred yet this year\n    if (\n      monthDifference < 0 ||\n      (monthDifference === 0 && today.getDate() < birthDate.getDate())\n    ) {\n      age--;\n    }\n\n    return age;\n  };\n  const handleInputChange = (e) => {\n    const inputValue = e.target.value;\n    setMessage(inputValue);\n    if (inputValue.trim() !== \"\") {\n      setforenter(true);\n    } else {\n      setforenter(false);\n    }\n    // Check for restricted words\n    const hasRestrictedWord = restrictedWords.some((word) =>\n      inputValue.toLowerCase().includes(word.toLowerCase())\n    );\n    setIsManualEnter(true);\n    if (hasRestrictedWord) {\n      setrestr_message(true);\n    } else {\n      setrestr_message(false);\n    }\n  };\n\n  // Button disabled logic\n  const isButtonDisabled =\n    (!message.trim() && Isfile.length === 0) || restr_message;\n  const restrictedWords = [\n    \"arse\",\n    \"arsehead\",\n    \"arsehole\",\n    \"ass\",\n    \"ass hole\",\n    \"asshole\",\n    \"bastard\",\n    \"bitch\",\n    \"bloody\",\n    \"bollocks\",\n    \"brotherfucker\",\n    \"bugger\",\n    \"bullshit\",\n    \"child-fucker\",\n    \"Christ on a bike\",\n    \"Christ on a cracker\",\n    \"cock\",\n    \"cocksucker\",\n    \"crap\",\n    \"cunt\",\n    \"dammit\",\n    \"damn\",\n    \"damned\",\n    \"damn it\",\n    \"dick\",\n    \"dick-head\",\n    \"dickhead\",\n    \"dumb ass\",\n    \"dumb-ass\",\n    \"dumbass\",\n    \"dyke\",\n    \"faggot\",\n    \"father-fucker\",\n    \"fatherfucker\",\n    \"fuck\",\n    \"fucker\",\n    \"fucking\",\n    \"god dammit\",\n    \"goddammit\",\n    \"God damn\",\n    \"god damn\",\n    \"goddamn\",\n    \"Goddamn\",\n    \"goddamned\",\n    \"goddamnit\",\n    \"godsdamn\",\n    \"holy shit\",\n    \"horseshit\",\n    \"in shit\",\n    \"jackarse\",\n    \"jack-ass\",\n    \"jackass\",\n    \"Jesus Christ\",\n    \"Jesus fuck\",\n    \"Jesus Harold Christ\",\n    \"Jesus H. Christ\",\n    \"Jesus, Mary and Joseph\",\n    \"Jesus wept\",\n    \"kike\",\n    \"mother fucker\",\n    \"mother-fucker\",\n    \"motherfucker\",\n    \"nigga\",\n    \"nigra\",\n    \"pigfucker\",\n    \"piss\",\n    \"prick\",\n    \"pussy\",\n    \"shit\",\n    \"shit ass\",\n    \"shite\",\n    \"sibling fucker\",\n    \"sisterfuck\",\n    \"sisterfucker\",\n    \"slut\",\n    \"son of a bitch\",\n    \"son of a whore\",\n    \"spastic\",\n    \"sweet Jesus\",\n    \"twat\",\n    \"wanker\",\n  ];\n\n  const MAX_FILE_SIZE_MB = 5; // Maximum file size in MB\n\n  const handleFileChange = (e) => {\n    const selectedFiles = Array.from(e.target.files);\n    const validFiles = [];\n    const errorFiles = [];\n\n    selectedFiles.forEach((file) => {\n      if (file.size / 1024 / 1024 <= MAX_FILE_SIZE_MB) {\n        validFiles.push(file);\n      } else {\n        errorFiles.push(file);\n      }\n    });\n\n    if (errorFiles.length > 0) {\n      seterror(\n        `Some files are larger than ${MAX_FILE_SIZE_MB} MB and were not added.`\n      );\n    } else {\n      seterror(\"\");\n    }\n    setIsManualEnter(true);\n    setforenter(true);\n    setFiles((prevFiles) => [...prevFiles, ...validFiles]);\n\n    if (inputRef.current) {\n      inputRef.current.focus(); // Focus back to input field\n\n      // Manually trigger Enter key event\n      const event = new KeyboardEvent(\"keydown\", {\n        key: \"Enter\",\n        code: \"Enter\",\n        keyCode: 13,\n        bubbles: true,\n      });\n      inputRef.current.dispatchEvent(event);\n    }\n  };\n\n  const removeImage = (index) => {\n    setFiles((prevFiles) => prevFiles.filter((_, i) => i !== index)); // Remove image by index\n  };\n  const setMessageFormessage = (recid) => {\n    setFilteredMessages((prevMessages) =>\n      prevMessages.filter((msg) => msg.id !== recid)\n    );\n  };\n  const setMessageForultiple = (recidArray) => {\n    setFilteredMessages(\n      (prevMessages) =>\n        prevMessages.filter((msg) => !recidArray.includes(msg.id)) // Remove all matching IDs\n    );\n  };\n  const setMessageForultiple_left = (recidArray) => {\n    setFilteredMessages(\n      (prevMessages) =>\n        prevMessages.filter((msg) => !recidArray.includes(msg.id)) // Remove all matching IDs\n    );\n  };\n  const getSEndMessagequick = async (form, n, t) => {\n    let formData = {\n      data: form,\n      user_id: n,\n      to_id: t,\n    };\n    console.log(formData, \"que\");\n    try {\n      const res = await axios.post(apiUrl + \"getSEndMessagequick\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Correct content type for file uploads\n        },\n      });\n\n      var alldata = res.data.results;\n      console.log(alldata, \"check\");\n      const storedUsername = localStorage.getItem(\"userLogin\");\n      const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n      if (t === userLogin.id) {\n        if (alldata.length > 0) {\n          const unreadCount = alldata.filter(\n            (item) => item.read === \"No\"\n          ).length;\n          console.log(unreadCount);\n          getmessageCount();\n          //setTotalcountmessage(unreadCount);\n        }\n      }\n      // Assuming res.data.results is the array of messages you want to append\n      if (res.data && Array.isArray(res.data.results)) {\n        // Update the messages state with new messages appended\n\n        setFilteredMessages((prevMessages) => [\n          ...prevMessages,\n          ...res.data.results,\n        ]);\n        setMessages(res.data.results);\n      } else {\n        console.error(\"No valid results found in the response:\", res.data);\n      }\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n        console.error(\"Response error:\", err.response);\n      } else if (err.request) {\n        console.error(\"Request error:\", err.request);\n      } else {\n        console.error(\"General error:\", err.message);\n      }\n    }\n  };\n  const getSEndMessage = async (form, n, t) => {\n    let formData = {\n      data: form,\n    };\n\n    try {\n      const res = await axios.post(apiUrl + \"getSEndMessage\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Correct content type for file uploads\n        },\n      });\n      console.log(\"Response from server:\", res.data);\n      var alldata = res.data.results;\n      const storedUsername = localStorage.getItem(\"userLogin\");\n      const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n      if (t === userLogin.id) {\n        if (alldata.length > 0) {\n          const unreadCount = alldata.filter(\n            (item) => item.read === \"No\"\n          ).length;\n          console.log(unreadCount);\n          getmessageCount();\n          //setTotalcountmessage(unreadCount);\n        }\n      }\n      // Assuming res.data.results is the array of messages you want to append\n      if (res.data && Array.isArray(res.data.results)) {\n        // Update the messages state with new messages appended\n        setFilteredMessages((prevMessages) => [\n          ...prevMessages,\n          ...res.data.results,\n        ]);\n        setMessages((prevMessages) => [...prevMessages, ...res.data.results]);\n      } else {\n        console.error(\"No valid results found in the response:\", res.data);\n      }\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n        console.error(\"Response error:\", err.response);\n      } else if (err.request) {\n        console.error(\"Request error:\", err.request);\n      } else {\n        console.error(\"General error:\", err.message);\n      }\n    }\n  };\n  const MAX_WORDS = 2000;\n  const countWords = (text) => {\n    return text.trim() ? text.split(/\\s+/).length : 0; // Count words by splitting on whitespace\n  };\n  const handleSend = async () => {\n    if (userblock === true) {\n      setShowPopError(true);\n      setPoperrorMessage(\"User is blocked\");\n      setTimeout(() => {\n        setShowPopError(false);\n        setPoperrorMessage(\"\");\n      }, 1000);\n    } else {\n      setarrow(true);\n      const formData = new FormData();\n      setspinner(true);\n      var commentText = message?.trim();\n      console.log(commentText);\n\n      if (commentText !== \"\") {\n        const currentWordCount = countWords(commentText);\n        if (currentWordCount < 2000) {\n          formData.append(\"message\", message);\n          formData.append(\"fileType\", \"chats\");\n          formData.append(\"user_id\", LoginData.id);\n          formData.append(\"to_id\", to_id);\n          Isfile.forEach((file) => {\n            formData.append(\"files\", file); // Use the key 'files' for your backend to handle multiple files\n          });\n\n          console.log(\"Message:\", message);\n          console.log(\"Files:\", Isfile);\n\n          try {\n            const res = await axios.post(apiUrl + \"saveUserChat\", formData, {\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"multipart/form-data\", // Correct content type for file uploads\n              },\n            });\n\n            setspinner(false);\n            var respo = res.data;\n\n            if (chatEndRef.current) {\n              chatEndRef.current.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"nearest\",\n              });\n            }\n            //await getChatAfterSave();\n            setTimeout(() => {\n              if (chatEndRef.current) {\n                chatEndRef.current.scrollIntoView({\n                  behavior: \"smooth\",\n                  block: \"nearest\",\n                });\n              }\n              setTimeout(() => {\n                setarrow(true);\n              }, 50);\n            }, 500);\n          } catch (err) {\n            // Enhanced error handling\n            if (err.response) {\n              console.error(\"Response error:\", err.response);\n            } else if (err.request) {\n              console.error(\"Request error:\", err.request);\n            } else {\n              console.error(\"General error:\", err.message);\n            }\n          }\n\n          // Reset message and files after sending\n          setMessage(\"\");\n          setFiles([]);\n        } else {\n          setspinner(false);\n          setShowPopError(true);\n          setPoperrorMessage(\n            `Comment cannot exceed ${MAX_WORDS} words. Currently: ${currentWordCount} words.`\n          );\n          setTimeout(() => {\n            setShowPopError(false);\n            setPoperrorMessage(\"\");\n          }, 1000);\n        }\n      } else {\n        formData.append(\"message\", message);\n        formData.append(\"fileType\", \"chats\");\n        formData.append(\"user_id\", LoginData.id);\n        formData.append(\"to_id\", to_id);\n        Isfile.forEach((file) => {\n          formData.append(\"files\", file); // Use the key 'files' for your backend to handle multiple files\n        });\n\n        console.log(\"Message:\", message);\n        console.log(\"Files:\", Isfile);\n\n        try {\n          const res = await axios.post(apiUrl + \"saveUserChat\", formData, {\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"multipart/form-data\", // Correct content type for file uploads\n            },\n          });\n          setspinner(false);\n          var respo = res.data;\n          //setMessages((prevMessages) => [...prevMessages, res.data]); // Update messages state\n\n          // Scroll to the bottom of the chat\n          if (chatEndRef.current) {\n            chatEndRef.current.scrollIntoView({\n              behavior: \"smooth\",\n              block: \"nearest\",\n            });\n          }\n          //await getChatAfterSave();\n          setTimeout(() => {\n            if (chatEndRef.current) {\n              chatEndRef.current.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"nearest\",\n              });\n            }\n          }, 500);\n        } catch (err) {\n          // Enhanced error handling\n          if (err.response) {\n            console.error(\"Response error:\", err.response);\n          } else if (err.request) {\n            console.error(\"Request error:\", err.request);\n          } else {\n            console.error(\"General error:\", err.message);\n          }\n        }\n\n        // Reset message and files after sending\n        setMessage(\"\");\n        setFiles([]);\n      }\n    }\n  };\n  const handlesearchmessage = (e) => {\n    const searchValue = e.target.value.toLowerCase();\n    setSearchText(searchValue);\n\n    if (!searchValue) {\n      setFilteredMessages(userChatDetail); // Reset to all messages when search is empty\n      return;\n    }\n\n    const filtered = userChatDetail.filter(\n      (chat) =>\n        chat && chat.message && chat.message.toLowerCase().includes(searchValue)\n    );\n\n    setFilteredMessages(filtered);\n  };\n  const formatTime = (dateString) => {\n    if (!dateString) return null;\n\n    // Ensure the date string is correctly formatted\n    const postDate = new Date(dateString);\n    if (isNaN(postDate)) return \"Invalid Date\";\n\n    // Adjust time by adding 1 hour (3600000 milliseconds)\n    const adjustedPostDate = new Date(postDate.getTime() - 3600000);\n\n    // Format using Intl.DateTimeFormat with Europe/Oslo timezone\n    const options = {\n      timeZone: \"Europe/Oslo\",\n      day: \"2-digit\",\n      month: \"short\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: true, // Use AM/PM format\n    };\n\n    const formatter = new Intl.DateTimeFormat(\"en-US\", options);\n    return formatter.format(adjustedPostDate);\n  };\n\n  const handledeletemainpopup = async (id) => {\n    let deleteev = {\n      id: id,\n      user_id: LoginData.id,\n      to_id: to_id,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"deletemessagechat\", deleteev, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const [chooseallId, setchooseallId] = useState([]);\n  const [showdeletebutton, setshowdeletebutton] = useState(false);\n  const [selectall, setselectall] = useState(false);\n  const handlealldelete = async () => {\n    let deleteev = {\n      id: chooseallId,\n      user_id: LoginData.id,\n      to_id: to_id,\n      other_id: chooseallId_left,\n    };\n    try {\n      const res = await axios.post(\n        apiUrl + \"deletemultiplemessagechat\",\n        deleteev,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n          },\n        }\n      );\n      setchooseallId([]);\n      setshowdeletebutton(false);\n      setselectall(false);\n      setchooseallId_left([]);\n      setshowdeletebutton(false);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n    //handledeleteOther_Left();\n  };\n  const handledeleteOther_Left = async () => {\n    let deleteev = {\n      id: chooseallId_left,\n      user_id: LoginData.id,\n      to_id: to_id,\n    };\n    try {\n      const res = await axios.post(\n        apiUrl + \"deletemultiplemessagechat_left\",\n        deleteev,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n          },\n        }\n      );\n      setTimeout(() => {\n        setchooseallId([]);\n        setshowdeletebutton(false);\n        setselectall(false);\n        setchooseallId_left([]);\n        setshowdeletebutton(false);\n      }, 500);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const handleallselect = () => {\n    setselectall(!selectall);\n  };\n  const handlechooseAll = (id) => {\n    setchooseallId(\n      (prev) =>\n        prev.includes(id)\n          ? prev.filter((item) => item !== id) // Remove if already selected\n          : [...prev, id] // Add if not selected\n    );\n  };\n  const getFileSrc = (fileUrl) => {\n    const allowedExtensions = [\".png\", \".jpg\", \".jpeg\", \".gif\"];\n    return allowedExtensions.some((ext) => fileUrl.endsWith(ext))\n      ? fileUrl\n      : null; // Return null if not an image\n  };\n\n  useEffect(() => {\n    if (chooseallId_left.length > 0 || chooseallId.length > 0) {\n      setshowdeletebutton(true);\n    } else {\n      setshowdeletebutton(false);\n    }\n  }, [chooseallId_left, chooseallId]);\n\n  const [showMenu_Left, setShowMenu_Left] = useState(false);\n  const handlechooseAll_left = (id) => {\n    setchooseallId_left(\n      (prev) =>\n        prev.includes(id)\n          ? prev.filter((item) => item !== id) // Remove if already selected\n          : [...prev, id] // Add if not selected\n    );\n  };\n\n  const toggleMenu_Left = (index) => {\n    setShowMenu_Left(showMenu_Left === index ? null : index);\n  };\n  const handledeletemainpopup_Left = async (id) => {\n    let deleteev = {\n      id: id,\n      user_id: LoginData.id,\n      to_id: to_id,\n    };\n    try {\n      const res = await axios.post(\n        apiUrl + \"deletemessagechat_Left\",\n        deleteev,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n          },\n        }\n      );\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n\n  const hanldeseenmessage = async () => {\n    console.log(to_id);\n    if (!to_id || arrow) return;\n\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n\n    let formData = {\n      user_id: userLogin.id,\n      to_id: to_id,\n    };\n    console.log(formData);\n\n    try {\n      const res = await axios.post(apiUrl + \"messageseenall\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      console.log(\"Seen API response received\");\n\n      // Safe scroll\n      setTimeout(() => {\n        if (chatEndRef.current) {\n          chatEndRef.current.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"nearest\",\n          });\n        }\n      }, 350);\n\n      getmessageCount();\n    } catch (err) {\n      if (err.response) {\n        console.error(\"Error response:\", err.response);\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n\n  const hanldeseenmessageAll = async () => {\n    console.log(to_id);\n    if (!to_id) return;\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n    let formData = {\n      user_id: userLogin.id,\n      to_id: to_id,\n    };\n    console.log(formData);\n    try {\n      const res = await axios.post(apiUrl + \"messageseenall\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      console.log(\"ll\");\n      setTimeout(() => {\n        chatEndRef.current.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"nearest\",\n        });\n        setTimeout(() => {\n          setarrow(true);\n        }, 350);\n      }, 30);\n\n      getmessageCount();\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n        console.error(\"Error response:\", err.response);\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const hanldeseenmessagenotscroll = async () => {\n    if (to_id !== \"\") {\n      let formData = {\n        user_id: userLogin.id,\n        to_id: to_id,\n      };\n      console.log(formData);\n      try {\n        const res = await axios.post(apiUrl + \"messageseenall\", formData, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        });\n        console.log(\"ll\");\n\n        getmessageCount();\n      } catch (err) {\n        // Enhanced error handling\n        if (err.response) {\n          console.error(\"Error response:\", err.response);\n        } else if (err.request) {\n          console.error(\"Request data:\", err.request);\n        } else {\n          console.error(\"Error message:\", err.message);\n        }\n      }\n    }\n  };\n  useEffect(() => {\n    if (!isOpen) return; // 👈 Don't attach if popup is closed\n\n    const chatBox = chatBoxRef.current;\n    if (!chatBox) return;\n\n    const handle = () => handleScroll(); // for cleanup consistency\n\n    chatBox.addEventListener(\"scroll\", handle);\n\n    return () => {\n      chatBox.removeEventListener(\"scroll\", handle);\n    };\n  }, [isOpen, arrow, offset, hasMore, loadingMore]);\n\n  // Scroll to the bottom when new messages arrive\n\n  const hanldeseenmessages = async () => {\n    if (to_id !== \"\") {\n      let formData = {\n        user_id: userLogin.id,\n        to_id: to_id,\n      };\n      console.log(formData);\n      try {\n        const res = await axios.post(apiUrl + \"messageseenall\", formData, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        });\n        console.log(\"ll\");\n\n        getmessageCount();\n      } catch (err) {\n        // Enhanced error handling\n        if (err.response) {\n          console.error(\"Error response:\", err.response);\n        } else if (err.request) {\n          console.error(\"Request data:\", err.request);\n        } else {\n          console.error(\"Error message:\", err.message);\n        }\n      }\n    }\n  };\n  // Early return if the chat box is not open\n  if (!isOpen) return null;\n\n  return (\n    <>\n      <div className=\"popup-overlay checkbox\" onClick={handleOverlayClick}>\n        {showPopError && <ErrorPop message={errorPopMessage} />}\n        {showPopSuccess && <SuccessPop message={successPopMessage} />}\n        <div className=\"popup-content col-md-4\">\n          <div className=\"d-flex flex-column gap-0 chat_box\">\n            <div className=\"d-flex align-items-center gap-3 mess_head \">\n              <Link\n                target=\"_blank\"\n                to={`/friend/${userdetail.id}`}\n                className=\"d-block chat_profile\"\n              >\n                {userdetail.profile_image &&\n                userdetail.makeImagePrivate === 0 ? ( // Display the image URL if available\n                  <img\n                    className=\"w-100 h-100\"\n                    src={userdetail.profile_image} // Use the URL from the member object\n                    alt=\"userpic\"\n                  />\n                ) : (\n                  <img\n                    className=\"w-100 h-100\"\n                    src={require(\"../assets/images/thumb.jpg\")} // Default image if profile image is not available\n                    alt=\"userpic\"\n                  />\n                )}\n              </Link>\n              <div className=\"d-flex flex-md-row flex-column align-items-md-center justify-content-between w-100 gap-2 chat_name pt-3\">\n                <div className=\"d-flex flex-column gap-3\">\n                  <div className=\"d-flex flex-column gap-1\">\n                    <div className=\"d-flex align-items-md-center gap-2\">\n                      <div className=\"newclass\">\n                        <Link\n                          target=\"_blank\"\n                          className=\"unamecolor\"\n                          to={`/friend/${userdetail.id}`}\n                        >\n                          {userdetail.username}\n                        </Link>\n                      </div>\n                      ,\n                      <h3>\n                        {userdetail.birthday_date != null\n                          ? `${calculateAge(userdetail.birthday_date)}`\n                          : \"\"}\n                      </h3>\n                    </div>\n                    <h5>{userdetail.location}</h5>\n                  </div>\n                </div>\n                <div className=\"d-flex flex-column justify-content-end align-items-end gap-2\">\n                  <div className=\"search-box\">\n                    <i className=\"fas fa-search\"></i>\n                    <input\n                      type=\"search\"\n                      placeholder={t(\"searchaaa\")}\n                      onInput={(e) => handlesearchmessage(e)}\n                    />\n                  </div>\n                  <div className=\"d-flex align-items-center gap-2 message_s-btn\">\n                    {showdeletebutton && (\n                      <button\n                        className=\"deltebtn\"\n                        type=\"button\"\n                        onClick={handlealldelete}\n                      >\n                        {t(\"delete\")}\n                      </button>\n                    )}\n                    <button\n                      className={`select_btn ${selectall ? \"active\" : \"\"}`}\n                      type=\"button\"\n                      onClick={handleallselect}\n                    >\n                      {t(\"Select\")}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div\n              className=\"mess_box_main\"\n              ref={chatBoxRef}\n              style={{\n                maxHeight: \"56vh\",\n                overflow: \"auto\",\n                display: \"flex\",\n                flexWrap: \"wrap\",\n                justifyContent: \"end\",\n              }}\n            >\n              <div className=\"mess_box d-flex flex-column gap-3 justify-content-end w-100\">\n                {loadingMore && (\n                  <div className=\"text-center w-100 py-2\">\n                    <span\n                      className=\"spinner-border text-success spinner-border-sm\"\n                      role=\"status\"\n                      aria-hidden=\"true\"\n                    ></span>\n                  </div>\n                )}\n                {filteredMessages.length === 0 ? (\n                  <div className=\"empty-chat-message\">\n                    <p>{t(\"No_messages_to_display\")}</p>\n                  </div>\n                ) : (\n                  filteredMessages.map((chat, index) => (\n                    <div\n                      key={index}\n                      ref={\n                        index === filteredMessages.length - 1\n                          ? chatEndRef\n                          : null\n                      }\n                    >\n                      {chat.user_id === LoginData.id ? (\n                        // Right-aligned messages (sent by the logged-in user)\n                        <>\n                          <div className=\"main_mess right_mess d-flex align-items-end gap-2 flex-column\">\n                            {/* Render the profile image only if there are files */}\n                            {Array.isArray(JSON.parse(chat.file)) &&\n                              JSON.parse(chat.file).length > 0 && (\n                                <>\n                                  {/* Show profile image only for the first file */}\n                                  {index === 0 && (\n                                    <Link\n                                      target=\"_blank\"\n                                      to={`/friend/${chat.user1_id}`}\n                                      className=\"d-block mess_profile\"\n                                    >\n                                      <img\n                                        className=\"w-100 h-100 pr\"\n                                        src={\n                                          chat.user1_makeImagePrivate === 1\n                                            ? require(\"../assets/images/thumb.jpg\")\n                                            : chat.user1_profile\n                                        }\n                                        alt=\"profile\"\n                                      />\n                                    </Link>\n                                  )}\n\n                                  {JSON.parse(chat.file).map((f, fileIndex) => {\n                                    const fileSrc = getFileSrc(f);\n\n                                    return (\n                                      <div\n                                        className=\"message d-block send_image\"\n                                        key={fileIndex}\n                                      >\n                                        {fileSrc ? (\n                                          // If it's an image, display it\n\n                                          <>\n                                            <div className=\"d-flex align-items-start gap-1 h-100\">\n                                              <div\n                                                style={{\n                                                  position: \"relative\",\n                                                  display: \"inline-block\",\n                                                }}\n                                              >\n                                                <button\n                                                  className=\"remove_mess\"\n                                                  onClick={() =>\n                                                    toggleMenu(index)\n                                                  }\n                                                >\n                                                  <HiDotsVertical />\n                                                </button>\n\n                                                {showMenu === index && (\n                                                  <ul className=\"popup-menu\">\n                                                    <li\n                                                      onClick={() =>\n                                                        handledeletemainpopup(\n                                                          chat.id\n                                                        )\n                                                      }\n                                                    >\n                                                      {t(\"Remove\")}\n                                                    </li>\n                                                    <li\n                                                      onClick={\n                                                        handleCloseDeletePopup\n                                                      }\n                                                    >\n                                                      {t(\"Cancel\")}\n                                                    </li>\n                                                  </ul>\n                                                )}\n                                              </div>\n                                              <div className=\"d-flex flex-column gap-1 justify-content-end align-items-end\">\n                                                <div className=\"d-flex align-items-start gap-1\">\n                                                  <img\n                                                    className=\"w-100 h-100 d\"\n                                                    src={fileSrc}\n                                                    alt={`file-${fileIndex}`}\n                                                    onClick={() =>\n                                                      setSelectedImage(fileSrc)\n                                                    }\n                                                    style={{\n                                                      cursor: \"pointer\",\n                                                    }}\n                                                  />\n                                                  {selectall && (\n                                                    <input\n                                                      type=\"checkbox\"\n                                                      checked={chooseallId.includes(\n                                                        chat.id\n                                                      )}\n                                                      onChange={() =>\n                                                        handlechooseAll(chat.id)\n                                                      }\n                                                    />\n                                                  )}\n                                                </div>\n                                                <span>\n                                                  {formatTime(chat.date)}\n                                                </span>\n                                              </div>\n                                            </div>\n                                          </>\n                                        ) : (\n                                          <>\n                                            <div className=\"d-flex align-items-start gap-1 h-100\">\n                                              <div\n                                                style={{\n                                                  position: \"relative\",\n                                                  display: \"inline-block\",\n                                                }}\n                                              >\n                                                <button\n                                                  className=\"remove_mess\"\n                                                  onClick={() =>\n                                                    toggleMenu(index)\n                                                  }\n                                                >\n                                                  <HiDotsVertical />\n                                                </button>\n\n                                                {showMenu === index && (\n                                                  <ul className=\"popup-menu\">\n                                                    <li\n                                                      onClick={() =>\n                                                        handledeletemainpopup(\n                                                          chat.id\n                                                        )\n                                                      }\n                                                    >\n                                                      {t(\"Remove\")}\n                                                    </li>\n                                                    <li\n                                                      onClick={\n                                                        handleCloseDeletePopup\n                                                      }\n                                                    >\n                                                      {t(\"Cancel\")}\n                                                    </li>\n                                                  </ul>\n                                                )}\n                                              </div>\n                                              <div className=\"d-flex flex-column gap-1 justify-content-end align-items-end\">\n                                                <div className=\"d-flex align-items-start gap-1\">\n                                                  <Link\n                                                    to={f}\n                                                    download\n                                                    target=\"_blank\"\n                                                    rel=\"noopener noreferrer\"\n                                                    className=\"h-100\"\n                                                  >\n                                                    <img\n                                                      src={require(\"../assets/images/images.png\")}\n                                                      alt=\"File\"\n                                                    />\n                                                  </Link>\n                                                  {selectall && (\n                                                    <input\n                                                      type=\"checkbox\"\n                                                      checked={chooseallId.includes(\n                                                        chat.id\n                                                      )}\n                                                      onChange={() =>\n                                                        handlechooseAll(chat.id)\n                                                      }\n                                                    />\n                                                  )}\n                                                </div>\n                                                <span>\n                                                  {formatTime(chat.date)}\n                                                </span>\n                                              </div>\n                                            </div>\n                                          </>\n                                        )}\n                                      </div>\n                                    );\n                                  })}\n                                </>\n                              )}\n                          </div>\n\n                          {chat.message && chat.message !== \"null\" && (\n                            <div className=\"main_mess right_mess d-flex align-items-center gap-2\">\n                              <Link\n                                target=\"_blank\"\n                                to={`/friend/${chat.user1_id}`}\n                                className=\"d-block mess_profile ri\"\n                              >\n                                <img\n                                  className=\"w-100 h-100 ri\"\n                                  src={\n                                    chat.user1_makeImagePrivate === 1\n                                      ? require(\"../assets/images/thumb.jpg\")\n                                      : chat.user1_profile\n                                  }\n                                  alt=\"profile\"\n                                />\n                              </Link>\n                              <div className=\" d-flex flex-column gap-1 justify-content-end align-items-end\">\n                                <div className=\"d-flex align-items-start gap-0\">\n                                  <div\n                                    style={{\n                                      position: \"relative\",\n                                      display: \"inline-block\",\n                                    }}\n                                  >\n                                    <button\n                                      className=\"remove_mess\"\n                                      onClick={() => toggleMenu(index)}\n                                    >\n                                      <HiDotsVertical />\n                                    </button>\n\n                                    {showMenu === index && (\n                                      <ul className=\"popup-menu\">\n                                        <li\n                                          onClick={() =>\n                                            handledeletemainpopup(chat.id)\n                                          }\n                                        >\n                                          {t(\"Remove\")}\n                                        </li>\n                                        <li onClick={handleCloseDeletePopup}>\n                                          {t(\"Cancel\")}\n                                        </li>\n                                      </ul>\n                                    )}\n                                  </div>\n                                  <div className=\"d-flex align-items-start gap-1\">\n                                    <p className=\"message\">{chat.message}</p>\n                                    {selectall && (\n                                      <input\n                                        type=\"checkbox\"\n                                        checked={chooseallId.includes(chat.id)}\n                                        onChange={() =>\n                                          handlechooseAll(chat.id)\n                                        }\n                                      />\n                                    )}\n                                  </div>\n                                </div>\n\n                                <span>{formatTime(chat.date)}</span>\n                              </div>\n                            </div>\n                          )}\n                        </>\n                      ) : (\n                        // Left-aligned messages (received from other users)\n                        <>\n                          <div className=\"main_mess left_mess d-flex align-items-start gap-2 flex-column \">\n                            {/* Check if chat.file is valid and has files */}\n                            {Array.isArray(JSON.parse(chat.file)) &&\n                              JSON.parse(chat.file).length > 0 && (\n                                <>\n                                  {/* Show profile image only for the first file */}\n                                  {index === 0 && (\n                                    <Link\n                                      target=\"_blank\"\n                                      to={`/friend/${chat.user1_id}`}\n                                      className=\"d-block mess_profile le flex-shrink-0\"\n                                    >\n                                      <img\n                                        className=\"w-100 h-100 d\"\n                                        src={\n                                          chat.user1_makeImagePrivate === 1\n                                            ? require(\"../assets/images/thumb.jpg\")\n                                            : chat.user1_profile\n                                        }\n                                        alt=\"profile\"\n                                      />\n                                    </Link>\n                                  )}\n\n                                  {JSON.parse(chat.file).map((f, fileIndex) => {\n                                    const fileSrc = getFileSrc(f);\n\n                                    return (\n                                      <div\n                                        className=\"message d-block send_image\"\n                                        key={fileIndex}\n                                      >\n                                        {fileSrc ? (\n                                          <>\n                                            <div className=\"d-flex align-items-start gap-1 h-100\">\n                                              <div className=\"d-flex flex-column gap-1 justify-content-end align-items-end\">\n                                                <div className=\"d-flex align-items-start gap-1\">\n                                                  <img\n                                                    className=\"w-100 h-100 d\"\n                                                    src={fileSrc}\n                                                    alt={`file-${fileIndex}`}\n                                                    onClick={() =>\n                                                      setSelectedImage(fileSrc)\n                                                    }\n                                                    style={{\n                                                      cursor: \"pointer\",\n                                                    }}\n                                                  />\n                                                </div>\n                                                <span>\n                                                  {formatTime(chat.date)}\n                                                </span>\n                                              </div>\n                                            </div>\n                                          </>\n                                        ) : (\n                                          <>\n                                            <div className=\"d-flex align-items-start gap-1 h-100\">\n                                              <div className=\"d-flex flex-column gap-1 justify-content-end align-items-end\">\n                                                <div className=\"d-flex align-items-start gap-1\">\n                                                  <Link\n                                                    to={f}\n                                                    download\n                                                    target=\"_blank\"\n                                                    rel=\"noopener noreferrer\"\n                                                    className=\"h-100\"\n                                                  >\n                                                    <img\n                                                      src={require(\"../assets/images/images.png\")}\n                                                      alt=\"File\"\n                                                    />\n                                                  </Link>\n                                                </div>\n                                                <span>\n                                                  {formatTime(chat.date)}\n                                                </span>\n                                              </div>\n                                            </div>\n                                          </>\n                                        )}\n                                      </div>\n                                    );\n                                  })}\n                                </>\n                              )}\n                          </div>\n\n                          {chat.message && chat.message !== \"null\" && (\n                            <div className=\"main_mess left_mess d-flex align-items-center gap-2\">\n                              <Link\n                                target=\"_blank\"\n                                to={`/friend/${chat.user1_id}`}\n                                className=\"d-block mess_profile le  flex-shrink-0\"\n                              >\n                                <img\n                                  className=\"w-100 h-100 pr\"\n                                  src={\n                                    chat.user1_makeImagePrivate === 1\n                                      ? require(\"../assets/images/thumb.jpg\")\n                                      : chat.user1_profile\n                                  }\n                                  alt=\"profile\"\n                                />\n                              </Link>\n                              <div className=\" d-flex flex-column gap-1 justify-content-start align-items-start\">\n                                {/* <div className=\"d-flex align-items-start gap-0\">\n                                                                                                 <p className=\"message\">{chat.message}</p>\n                                                                                               </div> */}\n                                <div className=\"d-flex align-items-start gap-0\">\n                                  <div className=\"d-flex align-items-start gap-1\">\n                                    <p className=\"message\">{chat.message}</p>\n                                  </div>\n                                </div>\n\n                                <span>{formatTime(chat.date)}</span>\n                              </div>\n                            </div>\n                          )}\n                        </>\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n              {filteredMessages.length > 4 && !arrow && (\n                <button\n                  className=\"newmessagearrow\"\n                  type=\"button\"\n                  onClick={hanldeseenmessageAll}\n                >\n                  <FaAngleDown />\n                  {Totalcountmessage > 0 && <span>{Totalcountmessage}</span>}\n                </button>\n              )}\n            </div>\n\n            {selectedImage && (\n              <div\n                style={{\n                  position: \"fixed\",\n                  top: 0,\n                  left: 0,\n                  width: \"100%\",\n                  height: \"100%\",\n                  backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  zIndex: 1000,\n                }}\n                onClick={() => setSelectedImage(null)} // Close when clicked outside\n              >\n                <div className=\"rel d-block pt-5\">\n                  <button type=\"button\" className=\"closebtnpic\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width={24}\n                      height={24}\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth={2}\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      className=\"icon icon-tabler icons-tabler-outline icon-tabler-x\"\n                    >\n                      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n                      <path d=\"M18 6l-12 12\" />\n                      <path d=\"M6 6l12 12\" />\n                    </svg>\n                  </button>\n                  <img\n                    src={selectedImage}\n                    alt=\"Full View\"\n                    style={{\n                      maxWidth: \"100%\",\n                      maxHeight: \"100%\",\n                      borderRadius: \"10px\",\n                      height: \"85vh\",\n                      objectFit: \"contain\",\n                    }}\n                  />\n                </div>\n              </div>\n            )}\n            <span className=\"text-danger\">{error}</span>\n            {restr_message && (\n              <span className=\"text-danger\">{t(\"Your_message_contain\")}</span>\n            )}\n            <form\n              onSubmit={(e) => {\n                e.preventDefault(); // Prevent page reload\n                if (message.trim() !== \"\" || Isfile.length > 0) {\n                  handleSend();\n                }\n              }}\n              className=\"message_type d-flex align-items-center gap-2\"\n            >\n              {/* File Upload */}\n              <div className=\"d-block image_img\">\n                <input type=\"file\" onChange={handleFileChange} multiple />\n                <img\n                  className=\"w-100 h-100\"\n                  src={require(\"../assets/images/serach2.png\")}\n                  alt=\"Upload\"\n                />\n              </div>\n\n              {/* Emoji Picker */}\n              <div className=\"emoji-container emchatbox\">\n                <button\n                  type=\"button\"\n                  className=\"emoji-button\"\n                  onClick={() => setShowPicker(!showPicker)}\n                >\n                  😀\n                </button>\n                {showPicker && <EmojiPicker onEmojiClick={handleEmojiClick} />}\n              </div>\n\n              {/* Message Input */}\n              <input\n                type=\"text\"\n                ref={inputRef}\n                value={message}\n                onChange={handleInputChange}\n                placeholder=\"Write a message...\"\n              />\n\n              {/* Send Button */}\n              <button\n                className=\"d-block image_img\"\n                type=\"submit\" // Change to \"submit\" so Enter key works\n                disabled={!message.trim() && Isfile.length === 0} // Prevent empty messages\n              >\n                <img\n                  className=\"w-50 h-50\"\n                  src={require(\"../assets/images/send.png\")}\n                  alt=\"Send\"\n                />\n              </button>\n\n              {/* Loading Spinner */}\n              {spinner && (\n                <div\n                  className=\"spinner-border text-success send_load\"\n                  role=\"status\"\n                >\n                  <span className=\"visually-hidden\">Loading...</span>\n                </div>\n              )}\n\n              {/* Display Selected Images */}\n              {Isfile.length > 0 && (\n                <div className=\"muti_images\">\n                  <div className=\"muti_main overflow-auto d-flex gap-2 mx-auto w-96\">\n                    {Isfile.map((file, index) => (\n                      <div key={index} className=\"d-block muti_image\">\n                        <img\n                          className=\"w-100 h-100\"\n                          src={URL.createObjectURL(file)}\n                          alt=\"Preview\"\n                        />\n                        <button\n                          className=\"delete_img\"\n                          onClick={() => removeImage(index)}\n                        >\n                          ×\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default ChatBox;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\nimport GDPRPopup from \"./GDPRPopup\";\n\nexport const Footer = () => {\n  const { t } = useTranslation();\n  const [signedup, setsignedup] = useState(false);\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem(\"language\") || \"en\"; // Default to 'en' if no language is saved\n    // Change the language if it's not already the current language\n    if (i18n.language !== savedLanguage) {\n      i18n.changeLanguage(savedLanguage);\n    }\n  }, [i18n, t]);\n  const currentYear = new Date().getFullYear();\n\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = JSON.parse(storedUsername);\n    if (userLogin !== null) {\n      setsignedup(true);\n    }\n  }, []);\n  return (\n    <>\n      <footer className=\"d-block\">\n        <div className=\"ftblocks py-5\">\n          <div className=\"container-lg\">\n            <div className=\"row gy-4\">\n              <div className=\"col-md-6\">\n                <div className=\"d-flex flex-column gap-3 ftlogoblock\">\n                  <h4>{t(\"WELCOMETOAMOURETTE\")}</h4>\n                  <div className=\"d-flex flex-column gap-1\">\n                    <h6>{t(\"Yourenow\")}</h6>\n                    <Link to=\"/helpsupport\" className=\"needsign\">\n                      <span\n                        dangerouslySetInnerHTML={{ __html: t(\"Needhelp\") }}\n                      />\n                    </Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"d-flex flex-column gap-3 ftblock ps-md-5\">\n                  <h3>{t(\"About\")}</h3>\n                  <div className=\"d-flex flex-column gap-2 ftlink\">\n                    <Link to=\"/setting\">{t(\"Membership\")}</Link>\n                    <Link to=\"/helpsupport\">{t(\"Help_and_support\")}</Link>\n                    <Link to=\"/setting\">{t(\"Contact_us\")}</Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"d-flex flex-column gap-3 ftblock ps-md-5\">\n                  <h3>{t(\"Resources\")}</h3>\n                  <div className=\"d-flex flex-column gap-2 ftlink\">\n                    <Link to=\"/securitypage\">{t(\"Security\")}</Link>\n                    <Link to=\"/setting\">{t(\"privacy\")}</Link>\n                    <Link to=\"/helpsupport\">{t(\"Terms_and_conditions\")}</Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-12\">\n                <div className=\"d-block ftlogoblock\">\n                  <p className=\"copyrighttext\">\n                    &copy; {t(\"Copyright_2024_all_rights_reserved\")}{\" \"}\n                    {currentYear}, {t(\"all_rights_reserved\")}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <GDPRPopup />\n          </div>\n        </div>\n      </footer>\n    </>\n  );\n};\n"],"names":["_ref","isOpen","onClose","children","userdetail","userChatDetail","LoginData","to_id","getChatAfterSave","refreshchat","chatEndRef","useRef","Totalcountmessage","setTotalcountmessage","useState","userblock","setuserblock","message","setMessage","errormessage","seterrormessage","chooseallId_left","setchooseallId_left","showPopError","setShowPopError","errorPopMessage","setPoperrorMessage","Isfile","setFiles","IdArray","setIdArray","istoid","settoid","forenter","setforenter","LoginDataUser","setLoginData","showPopSuccess","setShowPopSuccess","successPopMessage","setPopsuccessMessage","apiUrl","seenn","setSeen","arrow","setarrow","error","seterror","spinner","setspinner","restr_message","setrestr_message","t","useTranslation","selectedImage","setSelectedImage","searchText","setSearchText","filteredMessages","setFilteredMessages","messages","setMessages","inputRef","chatBoxRef","storedUsername","localStorage","getItem","isManualEnter","setIsManualEnter","JSON","parse","offset","setOffset","hasMore","setHasMore","loadingMore","setLoadingMore","useEffect","savedLanguage","i18n","language","changeLanguage","handleKeyDownn","e","key","document","addEventListener","removeEventListener","handleKeyDownr","event","window","showMenu","setShowMenu","handleCloseDeletePopup","setShowMenu_Left","toggleMenu","index","showPicker","setShowPicker","setTimeout","current","scrollIntoView","behavior","block","hanldeseenmessage","handleKeyDownnn","userLogin","id","Number","getmessageCount","console","log","async","formData","user_id","res","axios","post","headers","Accept","data","alldata","results","unreadCount","filter","item","read","length","err","response","request","ws","WebSocket","onmessage","receivedMessage","senderId","receiverId","loggedInUserId","includes","setMessageFormessage","setMessageForultiple","getSEndMessagequick","close","handleScroll","chatBox","isAtTop","scrollTop","isAtBottom","scrollHeight","clientHeight","formdata","newOffset","newMessages","prevMessages","existingIds","Set","map","msg","filteredNewMessages","has","prev","fetchMessages","status","chatsectionUser","idd","result","checkuserblock","trim","restrictedWords","recid","recidArray","form","n","Array","isArray","formatTime","dateString","postDate","Date","isNaN","adjustedPostDate","getTime","Intl","DateTimeFormat","timeZone","day","month","year","hour","minute","hour12","format","handledeletemainpopup","deleteev","chooseallId","setchooseallId","showdeletebutton","setshowdeletebutton","selectall","setselectall","handlechooseAll","getFileSrc","fileUrl","some","ext","endsWith","showMenu_Left","handle","_jsx","_Fragment","_jsxs","className","onClick","target","classList","contains","ErrorPop","SuccessPop","Link","to","profile_image","makeImagePrivate","src","alt","require","username","birthday_date","birthday","birthDate","today","age","getFullYear","monthDifference","getMonth","getDate","calculateAge","location","type","placeholder","onInput","searchValue","value","toLowerCase","filtered","chat","handlesearchmessage","other_id","handleallselect","ref","style","maxHeight","overflow","display","flexWrap","justifyContent","role","file","user1_id","user1_makeImagePrivate","user1_profile","f","fileIndex","fileSrc","position","HiDotsVertical","cursor","checked","onChange","date","download","rel","FaAngleDown","top","left","width","height","backgroundColor","alignItems","zIndex","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","maxWidth","borderRadius","objectFit","onSubmit","preventDefault","FormData","commentText","currentWordCount","text","split","append","forEach","handleSend","selectedFiles","from","files","validFiles","errorFiles","size","push","prevFiles","focus","KeyboardEvent","code","keyCode","bubbles","dispatchEvent","multiple","EmojiPicker","onEmojiClick","emojiObject","prevMessage","emoji","inputValue","hasRestrictedWord","word","disabled","URL","createObjectURL","_","i","removeImage","Footer","signedup","setsignedup","currentYear","dangerouslySetInnerHTML","__html","GDPRPopup"],"sourceRoot":""}