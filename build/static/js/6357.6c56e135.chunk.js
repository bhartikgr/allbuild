"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[6357],{6357:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(5043),t=a(5475),r=a(5700),c=a(8229),i=(a(7035),a(3216)),n=a(6213),o=a(793),d=a(4117),m=a(2862),h=a(579);const x=function(){const e=(0,i.Zp)(),[s,x]=(0,l.useState)(!1),[g,u]=(0,l.useState)(!1),[p,j]=(0,l.useState)(""),[f,N]=(0,l.useState)([]),[v,_]=(0,l.useState)([]),[y,w]=(0,l.useState)([]),[q,S]=(0,l.useState)([]),[b,k]=(0,l.useState)(null);var A="https://backend.amourette.no/api/profile/";(0,l.useEffect)((()=>{const s=localStorage.getItem("userLogin"),a=JSON.parse(s);null==a?e("/login"):(k(a),C(a.id),E(a.id))}),[]),(0,l.useEffect)((()=>{F()}),[]);const C=async e=>{const s=localStorage.getItem("userLogin");let a={user_id:JSON.parse(s).id};console.log(a);try{var l=(await n.A.post(A+"getAllFriend",a,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;N(l)}catch(t){t.response||(t.request?console.error("Request data:",t.request):console.error("Error message:",t.message))}},F=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};try{var a=(await n.A.post(A+"getAllFriendfav",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;_(a)}catch(l){l.response||(l.request?console.error("Request data:",l.request):console.error("Error message:",l.message))}},E=async e=>{let s={user_id:e};try{var a=(await n.A.post(A+"getUsersFriendRequest",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;S(a)}catch(l){l.response||(l.request?console.error("Request data:",l.request):console.error("Error message:",l.message))}},I=e=>{const s=new Date(e),a=new Date;let l=a.getFullYear()-s.getFullYear();const t=a.getMonth()-s.getMonth();return(t<0||0===t&&a.getDate()<s.getDate())&&l--,l},{t:L}=(0,d.Bd)();(0,l.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),m.A.language!==e&&m.A.changeLanguage(e),console.log(L("LeftMenu_yourprofile"))}),[m.A,L]);const[R,T]=(0,l.useState)(!0),[P,J]=(0,l.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.A,{refreshNotifications:s}),g&&(0,h.jsx)(o.A,{message:p}),(0,h.jsx)("section",{className:"inboxblock d-block gapy",children:(0,h.jsx)("div",{className:"container-lg",children:(0,h.jsxs)("div",{className:"row gy-4",children:[(0,h.jsx)("div",{className:"col-lg-3 col-xl-3 sidefixedbox sticky-top h-100 d-none d-lg-block",children:(0,h.jsx)(c.S,{})}),(0,h.jsx)("div",{className:"col-md-5",children:(0,h.jsxs)("div",{className:"row gy-5",children:[(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-3 justify-content-start justify-content-start request_head",children:[(0,h.jsxs)("h1",{children:[" ",L("All_Friend")]}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3 all-friend_btn",children:[(0,h.jsx)("button",{type:"button",onClick:()=>{T(!0),J(!1)},className:" "+(R?"active":""),children:L("Everyone")}),(0,h.jsx)("button",{onClick:()=>{T(!1),J(!0)},className:" "+(P?"active":""),type:"button",children:L("Favorites")})]})]})}),(0,h.jsxs)("div",{className:"col-12",children:[R&&(0,h.jsx)("div",{className:"row gy-2",children:0===f.length?(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("p",{className:"text-center",children:L("No_friends")})}):f.map((e=>(0,h.jsxs)("div",{className:"col-12",children:[" ",(0,h.jsxs)(t.N_,{to:`/friend/${e.id}`,className:"all_formen d-flex flex-column flex-md-row gap-2 ps-md-0",children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(0,h.jsx)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:e.profile_image&&0===e.makeImagePrivate?(0,h.jsx)("img",{src:e.profile_image,alt:"Selected"}):(0,h.jsx)("img",{src:a(7123),alt:"Profile"})})}),(0,h.jsx)("div",{className:"flex-grow-1",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,h.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,h.jsxs)("h3",{children:[e.username,","]}),(0,h.jsx)("h3",{children:I(e.birthday_date)})]}),(0,h.jsx)("h4",{children:e.location})]})})]})]},e.id)))}),P&&(0,h.jsx)("div",{className:"row gy-2",children:0===v.length?(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("p",{className:"text-center",children:L("No_friends")})}):v.map((e=>(0,h.jsxs)("div",{className:"col-12",children:[" ",(0,h.jsxs)(t.N_,{to:`/friend/${e.id}`,className:"all_formen d-flex flex-column flex-md-row gap-2 ps-md-0",children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(0,h.jsx)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:e.profile_image&&0===e.makeImagePrivate?(0,h.jsx)("img",{src:e.profile_image,alt:"Selected"}):(0,h.jsx)("img",{src:a(7123),alt:"Profile"})})}),(0,h.jsx)("div",{className:"flex-grow-1",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,h.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,h.jsxs)("h3",{children:[e.username,","]}),(0,h.jsx)("h3",{children:I(e.birthday_date)})]}),(0,h.jsx)("h4",{children:e.location})]})})]})]},e.id)))})]})]})}),(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsxs)("div",{className:"row gy-5 ",children:[(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"d-flex justify-content-start justify-content-start request_head",children:(0,h.jsx)("h5",{children:L("Friend_Request")})})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"row gy-2 ",children:(0,h.jsx)("div",{className:"row",children:0===q.length?(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("p",{className:"text-center",children:L("No_friend_requests_found")})}):q.map((e=>(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"friend_formen w-100 p-3",children:(0,h.jsxs)("div",{className:"d-flex w-100 flex-column align-items-start justify-content-between gap-3",children:[(0,h.jsxs)(t.N_,{to:`/singlesearch/${e.user_id}`,className:"d-flex flex-md-row gap-2",children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(0,h.jsx)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:e.profile_image&&0===e.makeImagePrivate?(0,h.jsx)("img",{src:e.profile_image,alt:"Selected"}):(0,h.jsx)("img",{src:a(7123),alt:"Profile"})})}),(0,h.jsx)("div",{className:"flex-grow-1",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,h.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,h.jsxs)("h3",{children:[e.username,","]})," ",(0,h.jsxs)("h3",{children:[I(e.birthday_date)," ",L("Years")]})," "]}),(0,h.jsx)("h4",{children:e.location||"Location not provided"})," "]})})]}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-4",children:[(0,h.jsx)("button",{className:"confirm_btn",onClick:()=>(async(e,s)=>{const a=localStorage.getItem("userLogin");let l={id:e,user_id:JSON.parse(a).id,sentto:s};console.log(l);try{await n.A.post(A+"AcceptRequest",l,{headers:{Accept:"application/json","Content-Type":"application/json"}}),C(b.id),E(b.id),u(!0),j("Friend request accepted"),setTimeout((()=>{u(!1)}),1500)}catch(t){t.response||(t.request?console.error("Request data:",t.request):console.error("Error message:",t.message))}})(e.frq_id,e.sentid),children:L("Confirm")})," ",(0,h.jsx)("button",{className:"cancel_btn",onClick:()=>(async e=>{const s=localStorage.getItem("userLogin");let a={id:e,user_id:(s?JSON.parse(s):null).id};try{await n.A.post("https://backend.amourette.no/api/members/handlerequestcancel",a,{headers:{Accept:"application/json","Content-Type":"application/json"}}),C(b.id),E(b.id),u(!0),j("Friend request canceled"),setTimeout((()=>{u(!1)}),1500)}catch(l){l.response||(l.request?console.error("Request data:",l.request):console.error("Error message:",l.message))}})(e.frq_id),children:L("Cancel")})," "]})]})})},e.id)))})})})]})})]})})})]})}}}]);
//# sourceMappingURL=6357.6c56e135.chunk.js.map