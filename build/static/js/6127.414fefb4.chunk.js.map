{"version":3,"file":"static/js/6127.414fefb4.chunk.js","mappings":"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","sources":["components/Createnewgallery.jsx","components/Footer.jsx","components/UploadprivatealbumForGallery.jsx","components/Usergallery.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { BsCloudUpload } from \"react-icons/bs\";\nimport axios from \"axios\";\n\nimport SuccessPop from \"../components/SuccessPop\";\nimport ErrorPop from \"../components/ErrorPop\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\nimport { FFmpeg } from \"@ffmpeg/ffmpeg\";\nexport const Createnewgallery = ({\n  isOpen,\n  onClose,\n  children,\n  LoginData,\n  notification,\n  visibleAlbums,\n}) => {\n  console.log(visibleAlbums);\n  var apiUrl = \"https://backend.amourette.no/api/members/\";\n  const [image, setImage] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [UserData, setUserData] = useState(\"\");\n  const [showPopSuccess, setShowPopSuccess] = useState(false);\n  const [showPopError, setShowPopError] = useState(false);\n  const [successPopMessage, setPopsuccessMessage] = useState(\"\");\n  const [errorPopMessage, setPoperrorMessage] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\"); // State for error message\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [makeImageUse, setmakeImageUse] = useState(false);\n  const [spinner, setspinner] = useState(false);\n  const [videoUrl, setVideoUrl] = useState(\"\"); // for resized video\n  const [fileType, setFileType] = useState(\"\");\n  const [restr_message, setrestr_message] = useState(\"\");\n  //const [getallAlbum, setgetallAlbum] = useState(visibleAlbums);\n  const [selectedId, setSelectedId] = useState(\"\");\n  const handleOverlayClick = (e) => {\n    // Check if the clicked element is the overlay\n    if (e.target.classList.contains(\"popup-overlay\")) {\n      onClose(); // Close the popup if the overlay is clicked\n      resetForm();\n    }\n  };\n  const fileInputRef = useRef(null);\n  const resetForm = () => {\n    setSelectedFile(null);\n    setFileType(\"\");\n    setName(\"\");\n    setDescription(\"\");\n    setErrorMessage(\"\");\n    //setMakeImageUsechoose(false);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset all form states here\n      setSelectedFile(null);\n      setFileType(\"\");\n      setName(\"\");\n      setDescription(\"\");\n      setErrorMessage(\"\");\n      //setMakeImageUsechoose(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\";\n      }\n    }\n  }, [isOpen]);\n  var apiUrll = \"https://backend.amourette.no/api/\";\n  // Empty dependency array to run this effect only once when the component mounts\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = JSON.parse(storedUsername);\n\n    const checkuser = async () => {\n      let formData = {\n        id: userLogin.id,\n        email: userLogin.email,\n      };\n\n      try {\n        const res = await axios.post(apiUrll + \"getUserDetail\", formData, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n          },\n        });\n\n        //console.log(res.data);\n        setUserData(res.data.result);\n      } catch (err) {\n        // Enhanced error handling\n        if (err.response) {\n        } else if (err.request) {\n          console.error(\"Request data:\", err.request);\n        } else {\n          console.error(\"Error message:\", err.message);\n        }\n      }\n    };\n    checkuser();\n  }, []);\n\n  useEffect(() => {\n    getalbum();\n  }, []);\n  const getalbum = async () => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = JSON.parse(storedUsername);\n    let formData = {\n      user_id: userLogin.id,\n    };\n    console.log(formData);\n    try {\n      const res = await axios.post(apiUrl + \"getGalleryallAlbum\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n\n      //setgetallAlbum(res.data.results);\n    } catch (err) {\n      if (err.response) {\n        console.error(\"Server Response Error:\", err.response.data);\n      } else if (err.request) {\n        console.error(\"No Response Received:\", err.request);\n      } else {\n        console.error(\"Request Error:\", err.message);\n      }\n    }\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // Prevent the default form submission\n    setspinner(true);\n    try {\n      const formData = new FormData();\n      console.log(selectedFile);\n      // Append checkbox value to formData\n      formData.append(\"name\", name);\n      formData.append(\"description\", description);\n      formData.append(\"makeImageUse\", makeImageUse);\n      formData.append(\"user_id\", LoginData.id);\n      formData.append(\"fileType\", \"gallery\");\n      formData.append(\"album_id\", selectedId);\n      if (makeImageUse === true) {\n        formData.append(\"image\", selectedFile);\n      } else {\n        formData.append(\"image\", selectedFile);\n      }\n\n      const response = await axios.post(apiUrl + \"gallerysave\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      setspinner(false);\n      setShowPopSuccess(true);\n      setPopsuccessMessage(response.data.message);\n      setTimeout(() => {\n        setShowPopError(false);\n        setShowPopSuccess(false);\n        window.location.reload();\n        onClose();\n      }, 1000);\n      //console.log(\"Event created:\", response.data);\n      setImage(null);\n      setName(\"\");\n      setDescription(\"\");\n      setmakeImageUse(false);\n      setSelectedFile(null);\n      // Close the popup after submission\n    } catch (error) {\n      setspinner(false);\n      setShowPopError(true);\n      setTimeout(() => {\n        setShowPopError(false);\n        onClose();\n      }, 800);\n      setPoperrorMessage(\"Error creating esssvent:\", error);\n    }\n  };\n  const MAX_FILE_SIZE = 25 * 1024 * 1024; // 2 MB\n  const handleFileChange = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    const isImage = file.type.startsWith(\"image/\");\n    const isVideo = file.type.startsWith(\"video/\");\n\n    if (!isImage && !isVideo) {\n      setErrorMessage(\"Please upload a valid image or video file.\");\n      setSelectedFile(null);\n      return;\n    }\n\n    if (file.size > MAX_FILE_SIZE) {\n      setErrorMessage(\"File size must be less than 5 MB.\");\n      setSelectedFile(null);\n      return;\n    }\n\n    setErrorMessage(\"\");\n\n    if (isImage) {\n      const supportedTypes = [\"image/jpeg\", \"image/png\", \"image/gif\"];\n      if (!supportedTypes.includes(file.type)) {\n        try {\n          const convertedFile = await convertToPng(file);\n          setSelectedFile(convertedFile);\n          setFileType(\"image\");\n          return;\n        } catch (err) {\n          console.error(\"Image conversion error:\", err);\n          setErrorMessage(\"Failed to convert image.\");\n          setSelectedFile(null);\n          return;\n        }\n      }\n\n      setSelectedFile(file);\n      setFileType(\"image\");\n    }\n\n    if (isVideo) {\n      setSelectedFile(file);\n      setFileType(\"video\");\n    }\n  };\n  const convertToPng = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      reader.onload = function (event) {\n        const img = new Image();\n        img.onload = function () {\n          const canvas = document.createElement(\"canvas\");\n          canvas.width = img.width;\n          canvas.height = img.height;\n\n          const ctx = canvas.getContext(\"2d\");\n          ctx.drawImage(img, 0, 0);\n\n          canvas.toBlob(\n            (blob) => {\n              if (blob) {\n                const pngFile = new File(\n                  [blob],\n                  file.name.replace(/\\.\\w+$/, \".png\"),\n                  {\n                    type: \"image/png\",\n                    lastModified: new Date().getTime(),\n                  }\n                );\n                resolve(pngFile);\n              } else {\n                reject(new Error(\"Failed to convert image.\"));\n              }\n            },\n            \"image/png\",\n            1\n          );\n        };\n        img.onerror = reject;\n        img.src = event.target.result;\n      };\n\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const resizeVideo = async (file) => {\n    const ffmpeg = new FFmpeg({ log: true });\n\n    // Load the ffmpeg library\n    await ffmpeg.load();\n\n    // Write the video to the ffmpeg virtual file system\n    const videoFilePath = URL.createObjectURL(file);\n    ffmpeg.FS(\n      \"writeFile\",\n      \"input.mp4\",\n      await fetch(videoFilePath).then((res) => res.arrayBuffer())\n    );\n\n    // Resize video (you can adjust the width/height as per your requirement)\n    await ffmpeg.run(\"-i\", \"input.mp4\", \"-vf\", \"scale=640:360\", \"output.mp4\");\n\n    // Read the output file from the virtual file system\n    const data = ffmpeg.FS(\"readFile\", \"output.mp4\");\n    const videoBlob = new Blob([data.buffer], { type: \"video/mp4\" });\n    const videoUrl = URL.createObjectURL(videoBlob);\n\n    return videoUrl;\n  };\n  const handleInputChange = (e) => {\n    const inputValue = e.target.value;\n    setName(inputValue);\n\n    // Check for restricted words\n    const hasRestrictedWord = restrictedWords.some((word) =>\n      inputValue.toLowerCase().includes(word.toLowerCase())\n    );\n\n    if (hasRestrictedWord) {\n      setrestr_message(true);\n    } else {\n      setrestr_message(false);\n    }\n  };\n  const handleInputChangedescription = (e) => {\n    const inputValue = e.target.value;\n    setDescription(inputValue);\n\n    // Check for restricted words\n    const hasRestrictedWord = restrictedWords.some((word) =>\n      inputValue.toLowerCase().includes(word.toLowerCase())\n    );\n\n    if (hasRestrictedWord) {\n      setrestr_message(true);\n    } else {\n      setrestr_message(false);\n    }\n  };\n  const restrictedWords = [\n    \"arse\",\n    \"arsehead\",\n    \"arsehole\",\n    \"ass\",\n    \"ass hole\",\n    \"asshole\",\n    \"bastard\",\n    \"bitch\",\n    \"bloody\",\n    \"bollocks\",\n    \"brotherfucker\",\n    \"bugger\",\n    \"bullshit\",\n    \"child-fucker\",\n    \"Christ on a bike\",\n    \"Christ on a cracker\",\n    \"cock\",\n    \"cocksucker\",\n    \"crap\",\n    \"cunt\",\n    \"dammit\",\n    \"damn\",\n    \"damned\",\n    \"damn it\",\n    \"dick\",\n    \"dick-head\",\n    \"dickhead\",\n    \"dumb ass\",\n    \"dumb-ass\",\n    \"dumbass\",\n    \"dyke\",\n    \"faggot\",\n    \"father-fucker\",\n    \"fatherfucker\",\n    \"fuck\",\n    \"fucker\",\n    \"fucking\",\n    \"god dammit\",\n    \"goddammit\",\n    \"God damn\",\n    \"god damn\",\n    \"goddamn\",\n    \"Goddamn\",\n    \"goddamned\",\n    \"goddamnit\",\n    \"godsdamn\",\n    \"holy shit\",\n    \"horseshit\",\n    \"in shit\",\n    \"jackarse\",\n    \"jack-ass\",\n    \"jackass\",\n    \"Jesus Christ\",\n    \"Jesus fuck\",\n    \"Jesus Harold Christ\",\n    \"Jesus H. Christ\",\n    \"Jesus, Mary and Joseph\",\n    \"Jesus wept\",\n    \"kike\",\n    \"mother fucker\",\n    \"mother-fucker\",\n    \"motherfucker\",\n    \"nigga\",\n    \"nigra\",\n    \"pigfucker\",\n    \"piss\",\n    \"prick\",\n    \"pussy\",\n    \"shit\",\n    \"shit ass\",\n    \"shite\",\n    \"sibling fucker\",\n    \"sisterfuck\",\n    \"sisterfucker\",\n    \"slut\",\n    \"son of a bitch\",\n    \"son of a whore\",\n    \"spastic\",\n    \"sweet Jesus\",\n    \"twat\",\n    \"wanker\",\n  ];\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem(\"language\") || \"en\"; // Default to 'en' if no language is saved\n    console.log(\"language\");\n    console.log(savedLanguage);\n\n    // Change the language if it's not already the current language\n    if (i18n.language !== savedLanguage) {\n      i18n.changeLanguage(savedLanguage);\n    }\n  }, [i18n, t]);\n  const setmakeImageUsechoose = (e) => {\n    setmakeImageUse(e);\n  };\n  const handlechooseId = (event) => {\n    setSelectedId(event.target.value); // Update state with selected ID\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      <div className=\"popup-overlay\" onClick={handleOverlayClick}>\n        {showPopSuccess && <SuccessPop message={successPopMessage} />}\n        {showPopError && <ErrorPop message={errorPopMessage} />}\n        <div className=\"popup-content col-md-5\">\n          <button className=\"close-button\" onClick={onClose}>\n            &times; {/* Close button */}\n          </button>\n          <div className=\"gallery_pop  d-flex flex-column gap-4\">\n            <h3>{t(\"Upload_new_images\")}</h3>\n            <form\n              onSubmit={handleSubmit}\n              action=\"javascript:void(0)\"\n              method=\"post\"\n            >\n              <div className=\"row gy-3 align-items-end\">\n                <div className=\"col-md-6\">\n                  <div className=\"uploadfile rel bgload\">\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      required\n                      name=\"file\"\n                      onChange={handleFileChange}\n                      className=\"fileload\"\n                      disabled={false}\n                      accept=\"image/*,video/mp4,video/webm,video/ogg\" // Accept only images and videos\n                    />\n\n                    <div className=\"upload_image\">\n                      {/* Show image preview */}\n                      {fileType === \"image\" && selectedFile && (\n                        <img\n                          className=\"w-100 h-100\"\n                          src={URL.createObjectURL(selectedFile)}\n                          alt=\"Selected Image\"\n                        />\n                      )}\n\n                      {/* Show video preview */}\n                      {fileType === \"video\" && selectedFile && (\n                        <video className=\"w-100 h-100\" controls>\n                          <source\n                            src={videoUrl || URL.createObjectURL(selectedFile)}\n                            type=\"video/mp4\"\n                          />\n                          {t(\"Your_browser_does\")}\n                        </video>\n                      )}\n                    </div>\n                    <div className=\"inload\" style={{ height: \"100px\" }}>\n                      <div>\n                        <BsCloudUpload style={{ fontSize: \"24px\" }} />\n                        <h3 style={{ fontSize: \"14px\" }}>\n                          {t(\"UPLOADIMAGE_Video\")} *\n                        </h3>\n                      </div>\n                    </div>\n                    {errorMessage && (\n                      <p className=\"text-danger\">{errorMessage}</p>\n                    )}\n                  </div>\n                </div>\n                {fileType === \"image\" && selectedFile && (\n                  <div className=\"col-md-6\">\n                    <div className=\"listbox\">\n                      <label className=\"cbox\">\n                        {t(\"Use_profile_picture\")}\n                        <input\n                          type=\"checkbox\"\n                          checked={makeImageUse}\n                          onChange={(e) =>\n                            setmakeImageUsechoose(e.target.checked)\n                          }\n                          name=\"makeImagePrivate\"\n                        />\n                        <span className=\"checkmark\"></span>\n                      </label>\n                    </div>\n                  </div>\n                )}\n                <div className=\"col-12\">\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    required\n                    onChange={handleInputChange}\n                    placeholder={`${t(\"image_name\")} *`}\n                    value={name}\n                  />\n                </div>\n                <div className=\"col-12\">\n                  <textarea\n                    required\n                    name=\"description\"\n                    rows=\"8\"\n                    placeholder={`${t(\"image_description\")} *`}\n                    value={description}\n                    onChange={handleInputChangedescription}\n                  ></textarea>\n                </div>\n                <div className=\"col-12\">\n                  <select\n                    className=\"form-control\"\n                    onChange={handlechooseId}\n                    name=\"album_id\"\n                  >\n                    <option value=\"\">{t(\"ChooseAlbum\")}</option>\n                    {visibleAlbums.map((album, index) => (\n                      <option key={index} value={album.id}>\n                        {album.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                {restr_message && (\n                  <span className=\"text-danger\" style={{ fontSize: \"14px\" }}>\n                    {t(\"Your_message_contain\")}\n                  </span>\n                )}\n                <div className=\"col-12\">\n                  {spinner && (\n                    <div\n                      className=\"spinner-border text-success date-load\"\n                      role=\"status\"\n                    >\n                      <span className=\"visually-hidden\">{t(\"Loading\")}...</span>\n                    </div>\n                  )}\n                  <button type=\"submit\">{t(\"upload_images\")}</button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\nimport GDPRPopup from \"./GDPRPopup\";\n\nexport const Footer = () => {\n  const { t } = useTranslation();\n  const [signedup, setsignedup] = useState(false);\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem(\"language\") || \"en\"; // Default to 'en' if no language is saved\n    // Change the language if it's not already the current language\n    if (i18n.language !== savedLanguage) {\n      i18n.changeLanguage(savedLanguage);\n    }\n  }, [i18n, t]);\n  const currentYear = new Date().getFullYear();\n\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = JSON.parse(storedUsername);\n    if (userLogin !== null) {\n      setsignedup(true);\n    }\n  }, []);\n  return (\n    <>\n      <footer className=\"d-block\">\n        <div className=\"ftblocks py-5\">\n          <div className=\"container-lg\">\n            <div className=\"row gy-4\">\n              <div className=\"col-md-6\">\n                <div className=\"d-flex flex-column gap-3 ftlogoblock\">\n                  <h4>{t(\"WELCOMETOAMOURETTE\")}</h4>\n                  <div className=\"d-flex flex-column gap-1\">\n                    <h6>{t(\"Yourenow\")}</h6>\n                    <Link to=\"/helpsupport\" className=\"needsign\">\n                      <span\n                        dangerouslySetInnerHTML={{ __html: t(\"Needhelp\") }}\n                      />\n                    </Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"d-flex flex-column gap-3 ftblock ps-md-5\">\n                  <h3>{t(\"About\")}</h3>\n                  <div className=\"d-flex flex-column gap-2 ftlink\">\n                    <Link to=\"/setting\">{t(\"Membership\")}</Link>\n                    <Link to=\"/helpsupport\">{t(\"Help_and_support\")}</Link>\n                    <Link to=\"/setting\">{t(\"Contact_us\")}</Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"d-flex flex-column gap-3 ftblock ps-md-5\">\n                  <h3>{t(\"Resources\")}</h3>\n                  <div className=\"d-flex flex-column gap-2 ftlink\">\n                    <Link to=\"/securitypage\">{t(\"Security\")}</Link>\n                    <Link to=\"/setting\">{t(\"privacy\")}</Link>\n                    <Link to=\"/helpsupport\">{t(\"Terms_and_conditions\")}</Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-12\">\n                <div className=\"d-block ftlogoblock\">\n                  <p className=\"copyrighttext\">\n                    &copy; {t(\"Copyright_2024_all_rights_reserved\")}{\" \"}\n                    {currentYear}, {t(\"all_rights_reserved\")}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <GDPRPopup />\n          </div>\n        </div>\n      </footer>\n    </>\n  );\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { BsCloudUpload } from \"react-icons/bs\";\nimport axios from \"axios\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\nimport MediaRenderer from \"../components/MediaRenderer\";\nexport const UploadprivatealbumForGallery = ({\n  isOpen,\n  onClose,\n  children,\n  closepopup11,\n}) => {\n  const handleOverlayClick = (e) => {\n    // Check if the clicked element is the overlay\n    if (e.target.classList.contains(\"popup-overlay\")) {\n      //onClose(); // Close the popup if the overlay is clicked\n      resetForm();\n    }\n  };\n  const [spinner, setspinner] = useState(false);\n  const [images, setImages] = useState(null);\n  const [visibility, setVisibility] = useState(\"\");\n  const [addToAlbum, setAddToAlbum] = useState(\"No\");\n  const [addToAlbumPass, setAddToAlbumpass] = useState(\"No\");\n  const [Password, setPassword] = useState(\"\");\n  const [albumName, setAlbumName] = useState(\"\");\n  const [rightsConfirmed, setRightsConfirmed] = useState(\"Yes\");\n  const [error, setError] = useState(\"\");\n  const [successmsg, setsuccessmsg] = useState(\"\");\n  const [preebtn, setpreebtn] = useState(false);\n  const { t } = useTranslation();\n  const fileInputRef = useRef(null);\n  const resetForm = () => {\n    setImages(null);\n    setVisibility(\"\");\n    setAlbumName(\"\");\n    setPassword(\"\");\n    setAddToAlbum(\"No\");\n    setRightsConfirmed(\"Yes\");\n    setError(\"\");\n    setsuccessmsg(\"\");\n    setspinner(false);\n    setpreebtn(false);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset all form states here\n      setImages(null);\n      setVisibility(\"\");\n      setAlbumName(\"\");\n      setPassword(\"\");\n      setAddToAlbum(\"No\");\n      setRightsConfirmed(\"Yes\");\n      setError(\"\");\n      setsuccessmsg(\"\");\n      setspinner(false);\n      setpreebtn(false);\n\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\"; // Reset file input UI\n      }\n    }\n  }, [isOpen]);\n  useEffect(() => {\n    if (visibility === \"Private_visible\") {\n      setAddToAlbumpass(\"Yes\");\n      setAddToAlbum(\"Yes\");\n    } else {\n      setAddToAlbumpass(\"No\");\n    }\n  }, [visibility]);\n\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem(\"language\") || \"en\"; // Default to 'en' if no language is saved\n    // Change the language if it's not already the current language\n    if (i18n.language !== savedLanguage) {\n      i18n.changeLanguage(savedLanguage);\n    }\n  }, [i18n, t]);\n  var apiUrl = \"https://backend.amourette.no/api/members/\";\n  const handleFileChange = async (e) => {\n    const selectedFiles = e.target.files;\n    const maxFileSize = 10 * 1024 * 1024; // 10 MB in bytes\n    const maxFileCount = 10; // Maximum of 10 files\n    let validFiles = [];\n    let fileError = \"\";\n\n    const supportedImageTypes = [\"image/jpeg\", \"image/png\", \"image/gif\"];\n\n    if (selectedFiles.length > maxFileCount) {\n      fileError = `You can only upload a maximum of ${maxFileCount} files.`;\n    } else {\n      for (const file of Array.from(selectedFiles)) {\n        const fileType = file.type;\n\n        if (!fileType.startsWith(\"image/\") && !fileType.startsWith(\"video/\")) {\n          fileError = `File \"${file.name}\" is not an image or video.`;\n          break;\n        } else if (file.size > maxFileSize) {\n          fileError = `File \"${file.name}\" exceeds the 10 MB limit.`;\n          break;\n        } else if (\n          fileType.startsWith(\"image/\") &&\n          !supportedImageTypes.includes(fileType)\n        ) {\n          // Convert unsupported image to PNG\n          try {\n            const converted = await convertToPng(file);\n            validFiles.push(converted);\n          } catch (err) {\n            fileError = `Failed to convert image \"${file.name}\" to PNG.`;\n            break;\n          }\n        } else {\n          validFiles.push(file);\n        }\n      }\n    }\n\n    if (fileError) {\n      setError(fileError);\n    } else {\n      setError(\"\");\n      setImages(validFiles);\n    }\n  };\n  const convertToPng = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      reader.onload = function (event) {\n        const img = new Image();\n        img.onload = function () {\n          const canvas = document.createElement(\"canvas\");\n          canvas.width = img.width;\n          canvas.height = img.height;\n\n          const ctx = canvas.getContext(\"2d\");\n          ctx.drawImage(img, 0, 0);\n\n          canvas.toBlob(\n            (blob) => {\n              if (blob) {\n                const pngFile = new File(\n                  [blob],\n                  file.name.replace(/\\.\\w+$/, \".png\"),\n                  {\n                    type: \"image/png\",\n                    lastModified: new Date().getTime(),\n                  }\n                );\n                resolve(pngFile);\n              } else {\n                reject(new Error(\"Failed to convert image.\"));\n              }\n            },\n            \"image/png\",\n            1\n          );\n        };\n        img.onerror = reject;\n        img.src = event.target.result;\n      };\n\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const [yesNoerror, setYesNoError] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!images) {\n      alert(\"Please select images to upload.\");\n      return;\n    }\n\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n    const formData = new FormData();\n\n    images.forEach((file) => {\n      formData.append(\"images\", file); // Use the key 'files' for your backend to handle multiple files\n    });\n    formData.append(\"visibility\", visibility);\n    formData.append(\"addToAlbum\", \"Yes\");\n    formData.append(\"albumName\", albumName);\n    formData.append(\"password\", Password);\n    formData.append(\"rightsConfirmed\", rightsConfirmed);\n    formData.append(\"user_id\", userLogin.id);\n    formData.append(\"fileType\", \"\");\n    if (rightsConfirmed === \"No\") {\n      setYesNoError(true);\n      return;\n    } else {\n      setYesNoError(false);\n    }\n    setspinner(true);\n    setpreebtn(true);\n    try {\n      const res = await axios.post(\n        apiUrl + \"saveprivateAlbumGallery\",\n        formData,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n      var respo = res.data;\n      setpreebtn(false);\n      setsuccessmsg(respo.message);\n      setTimeout(() => {\n        window.location.reload();\n        setspinner(false);\n        setsuccessmsg(\"\");\n        closepopup11();\n        setVisibility(\"\");\n        setAlbumName(\"\");\n        setPassword(\"\");\n        setAddToAlbum(\"No\");\n        setRightsConfirmed(\"Yes\");\n        setImages(null);\n      }, 3500);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const removeFile = (index) => {\n    setImages((prev) => {\n      const updatedImages = prev.filter((_, i) => i !== index);\n      // If no files left, reset the input value\n      if (updatedImages.length === 0 && fileInputRef.current) {\n        fileInputRef.current.value = \"\";\n      }\n      return updatedImages;\n    });\n  };\n\n  const handlecheck = () => {};\n  if (!isOpen) return null;\n  return (\n    <>\n      <div className=\"popup-overlay\" onClick={handleOverlayClick}>\n        <div className=\"popup-content col-md-5\">\n          <button className=\"close-button\" onClick={onClose}>\n            &times; {/* Close button */}\n          </button>\n          <div className=\"gallery_pop  d-flex flex-column gap-4\">\n            <h3> {t(\"upload_album\")}</h3>\n            <form\n              action=\"javascript:void(0)\"\n              method=\"post\"\n              onSubmit={handleSubmit}\n            >\n              <div className=\"row gy-3 align-items-end\">\n                <div className=\"col-md-12\">\n                  <div className=\"uploadfile rel bgload\">\n                    <p className=\"pb-2\">{t(\"select_one_more\")}</p>\n                    <input\n                      type=\"file\"\n                      name=\"file\"\n                      required\n                      accept=\"image/*,video/mp4,video/webm,video/ogg\"\n                      multiple\n                      onChange={handleFileChange}\n                      className=\"fileload\"\n                      ref={fileInputRef}\n                    />\n                    {error && <p style={{ color: \"red\" }}>{error}</p>}\n                    <div className=\"inload\" style={{ height: \"50px\" }}>\n                      <div className=\"d-flex gap-3 align-items-center\">\n                        {images !== null && (\n                          <>\n                            {images.map((file, index) => (\n                              <div className=\"upimage rel\" key={index}>\n                                <button\n                                  type=\"button\"\n                                  onClick={() => removeFile(index)}\n                                >\n                                  X\n                                </button>\n                                <div className=\"inimag ofit\">\n                                  {file.type.startsWith(\"image/\") ? (\n                                    <img\n                                      src={URL.createObjectURL(file)}\n                                      alt={file.name}\n                                    />\n                                  ) : (\n                                    <video width=\"160\" height=\"120\" controls>\n                                      <source\n                                        src={URL.createObjectURL(file)}\n                                        type={file.type}\n                                      />\n                                    </video>\n                                  )}\n                                </div>\n                              </div>\n                            ))}\n                          </>\n                        )}\n\n                        <div className=\"d-flex align-items-center gap-2\">\n                          <BsCloudUpload style={{ fontSize: \"24px\" }} />\n                          <h3 className=\"m-0\" style={{ fontSize: \"14px\" }}>\n                            {t(\"upload_image\")}/{t(\"Videos\")}\n                          </h3>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"col-12\">\n                  <div className=\"d-flex flex-column gap-2\">\n                    <p>{t(\"how_private\")}</p>\n                    <div className=\"d-flex align-items-center gap-2\">\n                      <div className=\"icon\">\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"24\"\n                          height=\"24\"\n                          viewBox=\"0 0 24 24\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          stroke-width=\"2\"\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          class=\"icon icon-tabler icons-tabler-outline icon-tabler-lock\"\n                        >\n                          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n                          <path d=\"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z\" />\n                          <path d=\"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0\" />\n                          <path d=\"M8 11v-4a4 4 0 1 1 8 0v4\" />\n                        </svg>\n                      </div>\n                      <select\n                        value={visibility}\n                        onChange={(e) => setVisibility(e.target.value)}\n                        className=\"\"\n                        required\n                        name=\"visibility\"\n                      >\n                        <option value=\"\">--{t(\"Select\")}--</option>\n                        <option value=\"Public_visible\">{t(\"All\")}</option>\n                        <option value=\"Friends_visible\">\n                          {t(\"Friends_visible\")}\n                        </option>\n                        {/* <option value=\"Private_visible\">\n                          {t(\"Private_visible\")}\n                        </option> */}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                {addToAlbumPass === \"Yes\" && (\n                  <div className=\"col-12\">\n                    <div className=\"d-flex flex-column gap-2\">\n                      <p>{t(\"Password\")}</p>\n                      <div className=\"d-flex align-items-center gap-2\">\n                        <div className=\"icon\">\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"24\"\n                            height=\"24\"\n                            viewBox=\"0 0 24 24\"\n                            fill=\"none\"\n                            stroke=\"currentColor\"\n                            stroke-width=\"2\"\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            class=\"icon icon-tabler icons-tabler-outline icon-tabler-lock\"\n                          >\n                            <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n                            <path d=\"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z\" />\n                            <path d=\"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0\" />\n                            <path d=\"M8 11v-4a4 4 0 1 1 8 0v4\" />\n                          </svg>\n                        </div>\n                        <input\n                          type=\"password\"\n                          name=\"password\"\n                          placeholder={t(\"Enterprotectedpasswordhere\")}\n                          value={Password}\n                          onChange={(e) => setPassword(e.target.value)}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"col-12\">\n                  <div className=\"d-flex flex-column gap-2\">\n                    <p>{t(\"Add_the_album\")}</p>\n                    <div className=\"d-flex align-items-center gap-2\">\n                      <div className=\"icon\">\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"24\"\n                          height=\"24\"\n                          viewBox=\"0 0 24 24\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          strokeWidth=\"2\"\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          className=\"icon icon-tabler icons-tabler-outline icon-tabler-library-photo\"\n                        >\n                          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n                          <path d=\"M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z\" />\n                          <path d=\"M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1\" />\n                          <path d=\"M17 7h.01\" />\n                          <path d=\"M7 13l3.644 -3.644a1.21 1.21 0 0 1 1.712 0l3.644 3.644\" />\n                          <path d=\"M15 12l1.644 -1.644a1.21 1.21 0 0 1 1.712 0l2.644 2.644\" />\n                        </svg>\n                      </div>\n                      <input\n                        type=\"text\"\n                        name=\"album_name\"\n                        placeholder={t(\"Enteralbumname\")}\n                        value={albumName}\n                        onChange={(e) => setAlbumName(e.target.value)}\n                        required // Required only if \"Yes\" is selected\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"col-12\">\n                  {yesNoerror && (\n                    <span style={{ color: \"red\", fontSize: \"12px\" }}>\n                      {t(\"Pleaseconfirm\")}\n                    </span>\n                  )}\n                  <div className=\"d-flex flex-column gap-2\">\n                    <p>{t(\"Do_you_have_the\")}</p>\n                    <div className=\"d-flex align-items-center gap-2\">\n                      <div className=\"icon\">\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"24\"\n                          height=\"24\"\n                          viewBox=\"0 0 24 24\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          stroke-width=\"2\"\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          class=\"icon icon-tabler icons-tabler-outline icon-tabler-copyright\"\n                        >\n                          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n                          <path d=\"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0\" />\n                          <path d=\"M14 9.75a3.016 3.016 0 0 0 -4.163 .173a2.993 2.993 0 0 0 0 4.154a3.016 3.016 0 0 0 4.163 .173\" />\n                        </svg>\n                      </div>\n\n                      <select\n                        value={rightsConfirmed}\n                        onChange={(e) => setRightsConfirmed(e.target.value)}\n                        name=\"rightsConfirmed\"\n                      >\n                        <option value=\"Yes\">{t(\"Yes\")}</option>\n                        <option value=\"No\">{t(\"No\")}</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <span className=\"text-success\">{successmsg}</span>\n                <div className=\"col-12\">\n                  {spinner && (\n                    <div\n                      className=\"spinner-border text-success send_load\"\n                      role=\"status\"\n                    >\n                      <span className=\"visually-hidden\">{t(\"loading\")}...</span>\n                    </div>\n                  )}\n                  <button\n                    type=\"submit\"\n                    style={{\n                      pointerEvents: preebtn ? \"none\" : \"auto\", // Disable button when preebtn is true\n                      opacity: preebtn ? 0.1 : 1, // Reduce opacity when disabled\n                    }}\n                  >\n                    {t(\"upload\")}\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useState, useRef, useEffect } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport { FaRegHeart, FaHeart } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\nimport { FaChevronLeft } from \"react-icons/fa\";\nimport { FaChevronRight } from \"react-icons/fa\";\nimport EmojiPicker from \"emoji-picker-react\";\nimport { AlertDelete } from \"../components/AlertDelete\";\nimport SuccessPop from \"../components/SuccessPop\";\nimport MediaRenderer from \"../components/MediaRenderer\";\nexport const Usergallery = ({\n  isOpen1,\n  onClose1,\n  children,\n  seperateGallerydetail,\n  UserDetail,\n  LoginData,\n  getUserfav,\n  GalleryCommets,\n  getCommentPost,\n  GalleryIdDetailGet,\n  galleryData,\n  previousId,\n  nextId,\n  getgallerydetialnext,\n  getgallerydetialprev,\n}) => {\n  const [successPopMessage, setPopsuccessMessage] = useState(\"\");\n  const [showPopSuccess, setShowPopSuccess] = useState(false);\n  const [isPopupOpen_delete, setisPopupOpen_delete] = useState(false);\n  const [deleteMessage, setdeleteMessage] = useState(\"\");\n  const chatEndRef = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isparamVl, setparamVl] = useState(seperateGallerydetail);\n  const [isgallid, setgallid] = useState(GalleryIdDetailGet);\n  const [restr_message, setrestr_message] = useState(false);\n  const [GalleryCommetss, setGalleryCommetss] = useState(GalleryCommets);\n  const { t } = useTranslation();\n  const [input, setInput] = useState(\"\");\n  const inputRef = useRef(null);\n  const storedUsername = localStorage.getItem(\"userLogin\");\n  const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem(\"language\") || \"en\"; // Default to 'en' if no language is saved\n    console.log(\"language\");\n    console.log(savedLanguage);\n\n    // Change the language if it's not already the current language\n    if (i18n.language !== savedLanguage) {\n      i18n.changeLanguage(savedLanguage);\n    }\n  }, [i18n, t]);\n  useEffect(() => {\n    setGalleryCommetss(GalleryCommets);\n    setparamVl(seperateGallerydetail);\n    setgallid(GalleryIdDetailGet);\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView();\n    }\n  }, [GalleryCommets, seperateGallerydetail, GalleryIdDetailGet]);\n\n  useEffect(() => {\n    const ws = new WebSocket(\"wss://backend.amourette.no\"); // Adjust port if needed\n\n    ws.onmessage = (event) => {\n      try {\n        const receivedMessage = JSON.parse(event.data);\n\n        const gid = String(receivedMessage.gallery_id); // Convert to string\n        const galleryIdDetail = String(GalleryIdDetailGet); // Convert to string as well\n\n        const log = LoginData.id;\n\n        // Check if gid matches the expected GalleryIdDetailGet\n        if (galleryIdDetail === gid) {\n          if (receivedMessage.event === \"GalleryLike\") {\n            console.log(receivedMessage);\n            // Update the local state based on the received message\n            setparamVl((prev) => {\n              if (prev.id === receivedMessage.gallery_id) {\n                return {\n                  ...prev,\n                  total_favourites: receivedMessage.total_favourites,\n                  user_favourited:\n                    log === receivedMessage.user_id\n                      ? receivedMessage.user_favourited // Update user_favourited only if IDs match\n                      : prev.user_favourited, // Toggle the favourited state\n                };\n              }\n              return prev;\n            });\n          }\n          if (receivedMessage.event === \"GalleryPost\") {\n            // Update state with the new comment\n            setGalleryCommetss((prevComments) => [\n              ...prevComments,\n              {\n                user_id: receivedMessage.user_id,\n                username: receivedMessage.username,\n                description: receivedMessage.message,\n                profile_image: receivedMessage.profile_image,\n                makeImagePrivate: receivedMessage.makeImagePrivate,\n                date: receivedMessage.date,\n                lastInsertId: receivedMessage.lastInsertId,\n              },\n            ]);\n          }\n        } else {\n        }\n      } catch (error) {\n        console.error(\"Failed to parse WebSocket message:\", error);\n        console.error(\"Raw message:\", event.data);\n      }\n    };\n\n    return () => {\n      ws.close();\n    };\n  }, [LoginData, GalleryIdDetailGet]);\n  //console.log(GalleryCommets);\n  // Ref to the chat container\n  var apiUrl = \"https://backend.amourette.no/api/members/\";\n\n  const [comments, setComments] = useState(\"\");\n  const [spinner, setspinner] = useState(false);\n  const onEmojiClick = (event, emojiObject) => {\n    setInput((prevInput) => prevInput + emojiObject.emoji);\n  };\n\n  const formateTime = (dateString) => {\n    if (!dateString) return null;\n\n    // Parse the date as UTC\n    const postDate = new Date(dateString);\n    if (isNaN(postDate.getTime())) {\n      console.error(\"Invalid date:\", dateString);\n      return \"Invalid date\";\n    }\n\n    // Get the current time in UTC\n    const now = new Date();\n\n    // Adjust the postDate by subtracting 1 hour (3600000ms)\n    const adjustedPostDate = new Date(postDate.getTime() - 3600000);\n\n    // Convert postDate to Europe/Oslo time correctly\n    const osloPostTime = new Intl.DateTimeFormat(\"en-GB\", {\n      timeZone: \"Europe/Oslo\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: false, // Ensures 24-hour format\n    }).format(adjustedPostDate);\n\n    // Calculate time difference in seconds, minutes, hours, days\n    const timeDiff = now.getTime() - postDate.getTime();\n    const seconds = Math.floor(timeDiff / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n    const weeks = Math.floor(days / 7);\n    const months = Math.floor(days / 30);\n    const years = Math.floor(days / 365);\n\n    // Generate formatted output based on the difference\n    if (minutes < 60) return `${osloPostTime}`;\n    if (hours < 24) return `${osloPostTime}`;\n    if (days === 1) return `Yesterday at ${osloPostTime}`;\n    if (days < 7) return `${days}d  ${osloPostTime}`;\n    if (weeks < 4) return `${weeks}w  ${osloPostTime}`;\n    if (months < 12) return `${months}m  ${osloPostTime}`;\n    return `${years}y  ${osloPostTime}`;\n  };\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === \"ArrowRight\") {\n        nextImage(previousId); // Move to next image when Right Arrow is pressed\n      } else if (event.key === \"ArrowLeft\") {\n        prevImage(nextId); // Move to previous image when Left Arrow is pressed\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [previousId, nextId]);\n  // Example usage\n\n  const isButtonDisabled = !comments.trim() || restr_message;\n  const handleCommentChange = (e) => {\n    const inputValue = e.target.value;\n\n    // Update the state with the new text (including emojis)\n    setComments(inputValue);\n\n    // If input is completely empty, remove all text and emojis\n    if (inputValue.trim() === \"\") {\n      setComments(\"\");\n    }\n\n    // Check for restricted words\n    const hasRestrictedWord = restrictedWords.some((word) =>\n      inputValue.toLowerCase().includes(word.toLowerCase())\n    );\n\n    setrestr_message(hasRestrictedWord);\n  };\n  const restrictedWords = [\n    \"arse\",\n    \"arsehead\",\n    \"arsehole\",\n    \"ass\",\n    \"ass hole\",\n    \"asshole\",\n    \"bastard\",\n    \"bitch\",\n    \"bloody\",\n    \"bollocks\",\n    \"brotherfucker\",\n    \"bugger\",\n    \"bullshit\",\n    \"child-fucker\",\n    \"Christ on a bike\",\n    \"Christ on a cracker\",\n    \"cock\",\n    \"cocksucker\",\n    \"crap\",\n    \"cunt\",\n    \"dammit\",\n    \"damn\",\n    \"damned\",\n    \"damn it\",\n    \"dick\",\n    \"dick-head\",\n    \"dickhead\",\n    \"dumb ass\",\n    \"dumb-ass\",\n    \"dumbass\",\n    \"dyke\",\n    \"faggot\",\n    \"father-fucker\",\n    \"fatherfucker\",\n    \"fuck\",\n    \"fucker\",\n    \"fucking\",\n    \"god dammit\",\n    \"goddammit\",\n    \"God damn\",\n    \"god damn\",\n    \"goddamn\",\n    \"Goddamn\",\n    \"goddamned\",\n    \"goddamnit\",\n    \"godsdamn\",\n    \"holy shit\",\n    \"horseshit\",\n    \"in shit\",\n    \"jackarse\",\n    \"jack-ass\",\n    \"jackass\",\n    \"Jesus Christ\",\n    \"Jesus fuck\",\n    \"Jesus Harold Christ\",\n    \"Jesus H. Christ\",\n    \"Jesus, Mary and Joseph\",\n    \"Jesus wept\",\n    \"kike\",\n    \"mother fucker\",\n    \"mother-fucker\",\n    \"motherfucker\",\n    \"nigga\",\n    \"nigra\",\n    \"pigfucker\",\n    \"piss\",\n    \"prick\",\n    \"pussy\",\n    \"shit\",\n    \"shit ass\",\n    \"shite\",\n    \"sibling fucker\",\n    \"sisterfuck\",\n    \"sisterfucker\",\n    \"slut\",\n    \"son of a bitch\",\n    \"son of a whore\",\n    \"spastic\",\n    \"sweet Jesus\",\n    \"twat\",\n    \"wanker\",\n  ];\n  const handlePostSubmit = async (e) => {\n    if (e.preventDefault) e.preventDefault(); // Prevent default only if `e` is an actual event\n\n    setspinner(true);\n\n    let formData = {\n      description: e.description || e.target.description.value,\n      gallery_id: e.gallery_id || e.target.gallery_id.value,\n      user_id: LoginData.id,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"GalleryPostSave\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      console.log(res.data);\n      setspinner(false);\n      setComments(\"\");\n      getCommentPost();\n      chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const galleryPostLike = async (id) => {\n    let formData = {\n      user_id: LoginData.id,\n      id: id,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"galleryPostLike\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      getUserfav(\"\");\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n\n  // Function to handle next image\n  // Function to handle next image\n  const nextImage = (id_id) => {\n    getgallerydetialnext(id_id);\n  };\n\n  // Function to handle previous image\n  const prevImage = (id_id) => {\n    getgallerydetialprev(id_id);\n  };\n  const [showPicker, setShowPicker] = useState(false);\n\n  const handleEmojiClick = (emojiObject) => {\n    // Append emoji to the existing text\n    setComments((prevMessage) => prevMessage + emojiObject.emoji);\n    setShowPicker(false);\n\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  };\n  // Update `isparamVl` when `currentIndex` changes\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === \"Escape\") {\n        onClose1(); // Close the popup when Escape is pressed\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    // Cleanup the event listener on component unmount\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [onClose1]);\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\" && comments.trim() !== \"\") {\n      e.preventDefault();\n\n      handlePostSubmit({\n        description: comments,\n        gallery_id: seperateGallerydetail.id,\n      });\n    }\n  };\n  if (!isOpen1) return null;\n  const handleOverlayClick = (e) => {\n    // Check if the clicked element is the overlay\n    if (e.target.classList.contains(\"popup-overlay\")) {\n      onClose1(); // Close the popup if the overlay is clicked\n    }\n  };\n  const handledeletebtn = () => {\n    setisPopupOpen_delete(true);\n    setdeleteMessage(\"Are you sure? You want to delete this post\");\n  };\n  const closePopup_delete = () => {\n    setisPopupOpen_delete(false);\n  };\n  const refreshpopup = async () => {\n    deletePost();\n  };\n  const deletePost = async () => {\n    const storedUsername = localStorage.getItem(\"userLogin\");\n    const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\n    let deleteev = {\n      user_id: userLogin.id,\n      id: seperateGallerydetail.id,\n      post_type: \"gallery\",\n    };\n    try {\n      const res = await axios.post(apiUrl + \"deletePostDashboard\", deleteev, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      setShowPopSuccess(true);\n      setPopsuccessMessage(\"Post deleted successfully\");\n\n      setisPopupOpen_delete(false);\n\n      setTimeout(() => {\n        onClose1();\n        setShowPopSuccess(false);\n        window.location.reload();\n      }, 1000);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  return (\n    <>\n      <div className=\"popup-overlay\" onClick={handleOverlayClick}>\n        <AlertDelete\n          isOpen1={isPopupOpen_delete}\n          onClose1={closePopup_delete}\n          message={deleteMessage}\n          onReturnSent={refreshpopup}\n        ></AlertDelete>\n        {showPopSuccess && <SuccessPop message={successPopMessage} />}\n        <div className=\"popup-content col-md-10\">\n          <button\n            className=\"close-button\"\n            style={{ zIndex: \"999\" }}\n            onClick={onClose1}\n          >\n            &times; {/* Close button */}\n          </button>\n\n          <div className=\"usergallery_pop  d-flex flex-column gap-1 h-100\">\n            <button\n              className=\"arrow right\"\n              type=\"button\"\n              onClick={() => nextImage(previousId)}\n            >\n              <FaChevronRight />\n            </button>\n            <button\n              className=\"arrow left\"\n              type=\"button\"\n              onClick={() => prevImage(nextId)}\n            >\n              <FaChevronLeft />\n            </button>\n            <div className=\"row p-2 p-md-4\">\n              <div className=\"col-lg-7\">\n                <div className=\"position-relative\">\n                  <div className=\"d-block gallery_im1g \">\n                    {isparamVl.image && typeof isparamVl.image === \"string\" ? (\n                      // Check if the URL ends with a valid image extension\n                      <MediaRenderer\n                        className=\"w-100 h-100\"\n                        url={isparamVl.image}\n                      />\n                    ) : (\n                      // Fallback when `item.image` is undefined or invalid\n                      <p>{t(\"No_avalibale_media\")}</p>\n                    )}\n                  </div>\n                  {userLogin.id === isparamVl.user_id && (\n                    <div className=\"flex-shrink-0 posttopbtns\">\n                      <button\n                        title=\"Delete\"\n                        onClick={handledeletebtn}\n                        type=\"button\"\n                        className=\"btn redbtn\"\n                        style={{\n                          padding: \"0px 0px\",\n                          textAlign: \"center\",\n                          minWidth: \"0px\",\n                          background: \"red\",\n                          width: \"40px\",\n                          height: \"40px\",\n                          borderRadius: \"50px\",\n                          position: \"absolute\",\n                          top: \"10px\",\n                          right: \"15px\",\n                        }}\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width={24}\n                          height={24}\n                          viewBox=\"0 0 24 24\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          strokeWidth={2}\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          className=\"icon icon-tabler textcolor icons-tabler-outline icon-tabler-trash\"\n                        >\n                          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n                          <path d=\"M4 7l16 0\" />\n                          <path d=\"M10 11l0 6\" />\n                          <path d=\"M14 11l0 6\" />\n                          <path d=\"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12\" />\n                          <path d=\"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3\" />\n                        </svg>\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"col-lg-5\">\n                <div className=\"d-flex h-100 flex-column justify-content-between gap-1\">\n                  <div className=\"d-flex flex-column gap-1 py-3 bordr-bt\">\n                    <div className=\"d-flex align-items-center gap-3 justify-content-between\">\n                      <Link to={`/friend/${isparamVl.uid}`}>\n                        {isparamVl.username}\n                      </Link>\n\n                      <h6>{formateTime(isparamVl.date)}</h6>\n                    </div>\n                    <div className=\"d-flex align-items-center gap-3 justify-content-between\">\n                      <p>\n                        {isparamVl &&\n                        isparamVl.description &&\n                        isparamVl.description.length > 150\n                          ? isparamVl.description.substring(0, 150) + \"...\"\n                          : isparamVl?.description ||\n                            \"No description available\"}\n                      </p>\n\n                      <div className=\"d-flex align-items-center gap-3 flex-shrink-0\">\n                        <div className=\"d-flex align-items-center gap-1 flex-shrink-0\">\n                          <button\n                            type=\"button\"\n                            onClick={() => galleryPostLike(isparamVl.id)}\n                            className=\"liked  fulw\"\n                          >\n                            {isparamVl.user_favourited ? (\n                              <FaHeart />\n                            ) : (\n                              <FaRegHeart />\n                            )}\n                          </button>\n                          <p className=\"likecount\">\n                            {isparamVl.total_favourites}\n                          </p>\n                        </div>\n                        <div className=\"d-flex align-items-center gap-1 flex-shrink-0\">\n                          <div className=\"d-block like_icon\">\n                            <img\n                              className=\"w-100 h-100\"\n                              src={require(\"../assets/images/comment.png\")}\n                              alt=\"img\"\n                            />\n                          </div>\n                          <p className=\"likecount\">{GalleryCommetss.length}</p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"d-flex flex-column gap-1\">\n                    <ul className=\"usergallery_msg scroll_bar\">\n                      {GalleryCommetss.length === 0 ? (\n                        <li>{t(\"Nocommentsavailable\")}</li>\n                      ) : (\n                        GalleryCommetss.map((comment, index) => (\n                          <li className=\"gap-3\" key={index}>\n                            <div className=\"profile_img\">\n                              <img\n                                className=\"w-100 h-100\"\n                                src={\n                                  comment.makeImagePrivate === 1\n                                    ? require(\"../assets/images/thumb.jpg\") // Default image if the profile image is private\n                                    : comment.profile_image // Use user's profile image if available\n                                    ? comment.profile_image\n                                    : require(\"../assets/images/image3.png\") // Default image if no profile image\n                                }\n                                alt=\"img\"\n                              />\n                            </div>\n                            <div className=\"comment_text d-flex flex-column gap-1\">\n                              <h6>{comment.username}</h6>{\" \"}\n                              {/* Display the commenter's username */}\n                              <p>{comment.description}</p>{\" \"}\n                              {/* Display the comment text */}\n                            </div>\n                            <p>{formateTime(comment.date)}</p>{\" \"}\n                          </li>\n                        ))\n                      )}\n                      <li ref={chatEndRef} />\n                    </ul>\n                    <form\n                      action=\"javascript:void(0)\"\n                      method=\"post\"\n                      onSubmit={handlePostSubmit}\n                    >\n                      {restr_message && (\n                        <span\n                          className=\"text-danger\"\n                          style={{ fontSize: \"14px\" }}\n                        >\n                          {t(\"Your_message_contain\")}\n                        </span>\n                      )}\n                      <div className=\"d-flex align-items-center gap-3 w-100 usergallery_from\">\n                        <div className=\"comment_input w-100 d-flex align-items-center gap-1\">\n                          {spinner && (\n                            <div\n                              className=\"spinner-border text-success postloader\"\n                              role=\"status\"\n                            >\n                              <span className=\"visually-hidden\">\n                                Loading...\n                              </span>\n                            </div>\n                          )}\n                          <input\n                            type=\"hidden\"\n                            value={seperateGallerydetail.id}\n                            name=\"gallery_id\"\n                          />\n                          <div className=\"emoji-container\">\n                            <button\n                              type=\"button\"\n                              className=\"emoji-button\"\n                              onClick={() => setShowPicker(!showPicker)}\n                            >\n                              😀\n                            </button>\n\n                            {showPicker && (\n                              <div\n                                className=\"emoji-picker\"\n                                style={{ position: \"absolute\", top: \"64px\" }}\n                              >\n                                <EmojiPicker onEmojiClick={handleEmojiClick} />\n                              </div>\n                            )}\n                          </div>\n                          <input\n                            type=\"text\"\n                            required\n                            ref={inputRef}\n                            name=\"description\"\n                            value={comments} // Controlled input\n                            onChange={handleCommentChange} // Simplified\n                            onKeyDown={handleKeyDown} // Send on Enter Key\n                            placeholder={`${t(\"write_a_comment\")}`}\n                          />\n\n                          <button\n                            type=\"submit\"\n                            disabled={isButtonDisabled} // Disable button if comment is empty\n                            style={{ opacity: isButtonDisabled ? 0.5 : 1 }}\n                            className=\"comment_postbtn\"\n                          >\n                            {t(\"Post\")}\n                          </button>\n                        </div>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n"],"names":["Createnewgallery","_ref","isOpen","onClose","children","LoginData","notification","visibleAlbums","console","log","apiUrl","image","setImage","useState","comments","setComments","UserData","setUserData","showPopSuccess","setShowPopSuccess","showPopError","setShowPopError","successPopMessage","setPopsuccessMessage","errorPopMessage","setPoperrorMessage","errorMessage","setErrorMessage","selectedFile","setSelectedFile","name","setName","description","setDescription","makeImageUse","setmakeImageUse","spinner","setspinner","videoUrl","setVideoUrl","fileType","setFileType","restr_message","setrestr_message","selectedId","setSelectedId","fileInputRef","useRef","resetForm","current","value","useEffect","storedUsername","localStorage","getItem","userLogin","JSON","parse","async","formData","id","email","res","axios","post","apiUrll","headers","Accept","data","result","err","response","request","error","message","checkuser","getalbum","user_id","convertToPng","file","Promise","resolve","reject","reader","FileReader","onload","event","img","Image","canvas","document","createElement","width","height","getContext","drawImage","toBlob","blob","pngFile","File","replace","type","lastModified","Date","getTime","Error","onerror","src","target","readAsDataURL","restrictedWords","t","useTranslation","savedLanguage","i18n","language","changeLanguage","_jsx","_Fragment","_jsxs","className","onClick","e","classList","contains","SuccessPop","ErrorPop","onSubmit","preventDefault","FormData","append","setTimeout","window","location","reload","action","method","ref","required","onChange","files","isImage","startsWith","isVideo","size","includes","convertedFile","disabled","accept","URL","createObjectURL","alt","controls","style","BsCloudUpload","fontSize","checked","setmakeImageUsechoose","inputValue","hasRestrictedWord","some","word","toLowerCase","placeholder","rows","map","album","index","role","Footer","signedup","setsignedup","currentYear","getFullYear","Link","to","dangerouslySetInnerHTML","__html","GDPRPopup","UploadprivatealbumForGallery","closepopup11","images","setImages","visibility","setVisibility","addToAlbum","setAddToAlbum","addToAlbumPass","setAddToAlbumpass","Password","setPassword","albumName","setAlbumName","rightsConfirmed","setRightsConfirmed","setError","successmsg","setsuccessmsg","preebtn","setpreebtn","yesNoerror","setYesNoError","alert","forEach","respo","multiple","selectedFiles","validFiles","fileError","supportedImageTypes","length","Array","from","converted","push","color","prev","updatedImages","filter","_","i","removeFile","xmlns","viewBox","fill","stroke","class","d","strokeWidth","strokeLinecap","strokeLinejoin","pointerEvents","opacity","Usergallery","isOpen1","onClose1","seperateGallerydetail","UserDetail","getUserfav","GalleryCommets","getCommentPost","GalleryIdDetailGet","galleryData","previousId","nextId","getgallerydetialnext","getgallerydetialprev","isPopupOpen_delete","setisPopupOpen_delete","deleteMessage","setdeleteMessage","chatEndRef","currentIndex","setCurrentIndex","isparamVl","setparamVl","isgallid","setgallid","GalleryCommetss","setGalleryCommetss","input","setInput","inputRef","scrollIntoView","ws","WebSocket","onmessage","receivedMessage","gid","String","gallery_id","galleryIdDetail","total_favourites","user_favourited","prevComments","username","profile_image","makeImagePrivate","date","lastInsertId","close","formateTime","dateString","postDate","isNaN","now","adjustedPostDate","osloPostTime","Intl","DateTimeFormat","timeZone","hour","minute","hour12","format","timeDiff","seconds","Math","floor","minutes","hours","days","weeks","months","years","handleKeyDown","key","nextImage","prevImage","addEventListener","removeEventListener","isButtonDisabled","trim","handlePostSubmit","behavior","id_id","showPicker","setShowPicker","deletePost","deleteev","post_type","AlertDelete","closePopup_delete","onReturnSent","zIndex","FaChevronRight","FaChevronLeft","MediaRenderer","url","title","handledeletebtn","padding","textAlign","minWidth","background","borderRadius","position","top","right","uid","substring","galleryPostLike","FaHeart","FaRegHeart","require","comment","EmojiPicker","onEmojiClick","emojiObject","prevMessage","emoji","focus","onKeyDown"],"sourceRoot":""}